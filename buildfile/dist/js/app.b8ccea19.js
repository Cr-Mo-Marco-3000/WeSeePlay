(function(){"use strict";var e={1404:function(e,a,t){var s=t(5102),o=t(9269);function n(e,a,t,s,n,i){const r=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(r)}var i=t(6957),r={name:"LayoutDefault",setup(){Kakao.init("9f41e650ba635f9ead57e2ffeea63af7");const e=(0,i.oR)();e.dispatch("fetchMe")}},l=t(7617);const u=(0,l.Z)(r,[["render",n]]);var c=u,d=(t(7120),t(8177)),m=t.n(d),p=t(2201);const v={class:"home"};function g(e,a,t,s,n,i){const r=(0,o.up)("StartPage",!0);return(0,o.wg)(),(0,o.iD)("div",v,[(0,o.Wm)(r)])}var f=t(3201);const _={id:"first-page-box"},w=(0,o._)("canvas",{class:"orb-canvas"},null,-1),y={class:"overlay"},h={id:"state-box"},b={class:"overlay__btns"};function k(e,a,t,s,n,i){const r=(0,o.up)("TheBackground"),l=(0,o.up)("TheCarousel"),u=(0,o.up)("LoginInput"),c=(0,o.up)("SignupInput");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(r),(0,o._)("div",_,[w,(0,o._)("div",y,[(0,o._)("div",h,[s.isLoginOpen||s.isSignupOpen?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(l,{key:0})),s.isLoginOpen?((0,o.wg)(),(0,o.j4)(u,{key:1})):(0,o.kq)("",!0),s.isSignupOpen?((0,o.wg)(),(0,o.j4)(c,{key:2,onSignupDone:s.loginOpen},null,8,["onSignupDone"])):(0,o.kq)("",!0)]),(0,o._)("div",b,[(0,o._)("button",{onClick:a[0]||(a[0]=(...e)=>s.loginOpen&&s.loginOpen(...e)),class:"overlay__btn overlay__btn--transparent login-btn"},[(0,o._)("span",null,(0,f.zw)(s.loginText),1)]),(0,o._)("button",{onClick:a[1]||(a[1]=(...e)=>s.signupOpen&&s.signupOpen(...e)),class:"overlay__btn overlay__btn--colors signup-btn"},[(0,o._)("span",null,(0,f.zw)(s.signupText),1)])])])])],64)}var x=t(6237);const C={viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid slice"},S=(0,o.uE)('<defs><radialGradient id="Gradient1" cx="50%" cy="50%" fx="10%" fy="50%" r=".5"><animate attributeName="fx" dur="34s" values="0%;3%;0%" repeatCount="indefinite"></animate><stop offset="0%" stop-color="#72dce9"></stop><stop offset="100%" stop-color="#11d0b700"></stop></radialGradient><radialGradient id="Gradient2" cx="50%" cy="50%" fx="10%" fy="50%" r=".5"><animate attributeName="fx" dur="23.5s" values="0%;3%;0%" repeatCount="indefinite"></animate><stop offset="0%" stop-color="#8980f2"></stop><stop offset="100%" stop-color="#695eef00"></stop></radialGradient><radialGradient id="Gradient3" cx="50%" cy="50%" fx="50%" fy="50%" r=".5"><animate attributeName="fx" dur="21.5s" values="0%;3%;0%" repeatCount="indefinite"></animate><stop offset="0%" stop-color="#c658ff"></stop><stop offset="100%" stop-color="#f0f0"></stop></radialGradient></defs><rect x="0" y="0" width="70%" height="70%" fill="url(#Gradient1)"><animate attributeName="x" dur="20s" values="25%;0%;25%" repeatCount="indefinite"></animate><animate attributeName="y" dur="21s" values="0%;25%;0%" repeatCount="indefinite"></animate><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="360 50 50" dur="17s" repeatCount="indefinite"></animateTransform></rect><rect x="0" y="0" width="60%" height="60%" fill="url(#Gradient2)"><animate attributeName="x" dur="23s" values="-25%;0%;-25%" repeatCount="indefinite"></animate><animate attributeName="y" dur="24s" values="0%;50%;0%" repeatCount="indefinite"></animate><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="360 50 50" dur="18s" repeatCount="indefinite"></animateTransform></rect><rect x="0" y="0" width="50%" height="50%" fill="url(#Gradient3)"><animate attributeName="x" dur="25s" values="0%;25%;0%" repeatCount="indefinite"></animate><animate attributeName="y" dur="26s" values="0%;25%;0%" repeatCount="indefinite"></animate><animateTransform attributeName="transform" type="rotate" from="360 50 50" to="0 50 50" dur="19s" repeatCount="indefinite"></animateTransform></rect>',4),I=[S];function N(e,a,t,s,n,i){return(0,o.wg)(),(0,o.iD)("svg",C,I)}var D={name:"TheBackground"};const U=(0,l.Z)(D,[["render",N]]);var M=U,E=t.p+"img/logo.65fcabe6.png";const H=(0,o.uE)('<div id="logo-box"><img src="'+E+'"><div class="logo-box-text"><h4><span class="text-gradient">WeSeePlay</span></h4><p style="margin-top:0.5rem;"><br> 처음 만나는 사람들, 이미 만나본 사람들 모두 하나되어 즐겁게 놀 수 있습니다.<br> 사람들과 얼굴을 마주하며 함께하는 듯한 생생한 즐거움을 누리세요! <br> 지금 <span class="text-gradient">WeSeePlay</span>의 즐거운 세상으로 초대합니다<br><span style="font-size:1.1rem;">We See, We Play!</span></p></div></div>',1),O={id:"carousel-box"},q={class:"q-pa-md"};function T(e,a,t,s,n,i){const r=(0,o.up)("FirstCarousel"),l=(0,o.up)("q-carousel-slide"),u=(0,o.up)("SecondCarousel"),c=(0,o.up)("ThirdCarousel"),d=(0,o.up)("FourthCarousel"),m=(0,o.up)("FifthCarousel"),p=(0,o.up)("q-carousel");return(0,o.wg)(),(0,o.iD)(o.HY,null,[H,(0,o._)("div",O,[(0,o._)("div",q,[(0,o.Wm)(p,{modelValue:s.slide,"onUpdate:modelValue":a[0]||(a[0]=e=>s.slide=e),swipeable:"",animated:"","control-type":"flat","control-color":"purple",padding:"",navigation:"",arrows:"",infinite:"",height:"30rem",class:"text-purple rounded-borders"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{name:"1",class:"column no-wrap flex-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(r)])),_:1}),(0,o.Wm)(l,{name:"2",class:"column no-wrap flex-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1}),(0,o.Wm)(l,{name:"3",class:"column no-wrap flex-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(c)])),_:1}),(0,o.Wm)(l,{name:"4",class:"column no-wrap flex-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(d)])),_:1}),(0,o.Wm)(l,{name:"5",class:"column no-wrap flex-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1})])),_:1},8,["modelValue"])])])],64)}var R=t.p+"img/secondCarousel.ada9daa7.gif";const L={class:"q-mt-md text-center text-black"},P=(0,o.uE)('<div class="overlay__inner first-carousel"><div class="text-box"><h1 class="overlay__title"> 직접 방을 만들거나<br> 이미 만들어진 방에<br> 참여하세요 </h1><p class="overlay__description"><span class="text-gradient"> WeSeePlay</span>에서는<br> 만남을 위한 장소를 제공합니다.<br><br> 모르는 사람들과 이야기하고 싶다구요?<br> 공개방에 들어가 보세요.<br> 아는 친구들과 조용히 이야기하고 싶다면,<br> 비공개 방을 만들어보세요. </p></div><img class="carousel-gif" src="'+R+'"></div>',1),j=[P];function V(e,a){return(0,o.wg)(),(0,o.iD)("div",L,j)}const A={},W=(0,l.Z)(A,[["render",V]]);var $=W;const B={class:"q-mt-md text-center text-black"},G=(0,o.uE)('<div class="overlay__inner first-carousel"><div class="text-box"><h1 class="overlay__title"> 함께하는 즐거운 시간, <span class="text-gradient">WeSeePlay</span>에서<br><span>즐기세요</span></h1><p class="overlay__description"> 우리 <span class="text-gradient">WeSeePlay</span>에서는 말이죠, <br> 처음 만나는 사람들, 이미 만나본 사람들 <br> 모두 하나되어 즐겁게 놀 수 있습니다.<br><br> 도저히 믿기지 않으신다구요?<br> 지금부터 하나씩 살펴볼까요? </p></div><img class="logo-img" src="'+E+'"></div>',1),Z=[G];function z(e,a,t,s,n,i){return(0,o.wg)(),(0,o.iD)("div",B,Z)}var K={name:"FirstCarousel"};const Y=(0,l.Z)(K,[["render",z]]);var J=Y,F=t.p+"img/thirdCarousel.41528929.gif";const Q={class:"q-mt-md text-center text-black"},X=(0,o.uE)('<div class="overlay__inner first-carousel"><div class="text-box"><h1 class="overlay__title"> 얼굴을 보며 대화하고<br> 채팅으로 소통하세요<br></h1><p class="overlay__description"><span class="text-gradient"> WeSeePlay</span>에서는 얼굴을 보며<br> 여러 사람들과 소통할 수 있습니다<br><br> 마치 옆에 있는 사람과 얘기하는 것 처럼<br> 생생한 대화를 경험해 보세요.<br> 익숙하지 않아 조금 부끄럽다면<br> 채팅으로 생각을 전하는 건 어떨까요?<br></p></div><img class="carousel-gif" src="'+F+'"></div>',1),ee=[X];function ae(e,a){return(0,o.wg)(),(0,o.iD)("div",Q,ee)}const te={},se=(0,l.Z)(te,[["render",ae]]);var oe=se,ne=t.p+"img/fourthCarousel.58250d3a.gif";const ie={class:"q-mt-md text-center text-black"},re=(0,o.uE)('<div class="overlay__inner first-carousel"><div class="text-box"><h1 class="overlay__title"> 사람들의 설명을 듣고<br> 라이어를 찾아보세요<br></h1><p class="overlay__description"> 대화가 조금 지겨워졌다면<br><span class="text-gradient"> WeSeePlay</span>에서 제공하는<br> 게임을 즐겨보는 건 어떨까요?<br><br> 모두 알고 있는 제시어를 모르는 것 같은<br> 그 사람이 바로 라이어일 거에요<br> 설명이 너무 구체적이면,<br> 라이어가 눈치챌 수 있으니 주의해야겠죠?<br></p></div><img class="carousel-gif" src="'+ne+'"></div>',1),le=[re];function ue(e,a){return(0,o.wg)(),(0,o.iD)("div",ie,le)}const ce={},de=(0,l.Z)(ce,[["render",ue]]);var me=de,pe=t.p+"img/fifthCarousel.312159c5.gif";const ve={class:"q-mt-md text-center text-black"},ge=(0,o.uE)('<div class="overlay__inner first-carousel"><div class="text-box"><h1 class="overlay__title"> 모든 정보는<br> 한 곳에서 관리하세요 </h1><p class="overlay__description"><span class="text-gradient"> WeSeePlay</span>에서 제공하는<br> 자그마한 공간에서 <br> 모든 정보를 관리할 수 있습니다. <br><br> 지겨워진 닉네임, 단숨에 바꿔보세요<br> 비밀번호는 주기적으로 교체해야 한다는 것<br> 알고 계시죠?<br></p></div><img class="carousel-gif" src="'+pe+'"></div>',1),fe=[ge];function _e(e,a){return(0,o.wg)(),(0,o.iD)("div",ve,fe)}const we={},ye=(0,l.Z)(we,[["render",_e]]);var he=ye,be={name:"TheCarousel",components:{FirstCarousel:J,SecondCarousel:$,ThirdCarousel:oe,FourthCarousel:me,FifthCarousel:he},setup(){const e=(0,x.iH)([{title:"안녕",content:"안녕내용",imageSrc:"안녕이미지"},{title:"안녕",content:"안녕내용",imageSrc:"안녕이미지"}]);return{slide:(0,x.iH)("1"),slides:e}}},ke=t(3535),xe=t(3477),Ce=t(1410),Se=t.n(Ce);const Ie=(0,l.Z)(be,[["render",T]]);var Ne=Ie;Se()(be,"components",{QCarousel:ke.Z,QCarouselSlide:xe.Z});var De=t.p+"img/kakao-logo.07050715.png";const Ue={id:"user-box"},Me=(0,o._)("h5",null,"로그인",-1),Ee={class:"user-input"},He=(0,o._)("span",null,"이메일",-1),Oe={class:"user-input"},qe=(0,o._)("span",null,"비밀번호",-1),Te={class:"error-message"},Re=(0,o._)("button",{class:"auth-btn overlay__btn"},"로그인",-1),Le=(0,o._)("p",null,"카카오계정으로 접속하기",-1),Pe=(0,o._)("img",{src:De},null,-1),je=[Le,Pe];function Ve(e,a,t,n,i,r){const l=(0,o.up)("ModalContent"),u=(0,o.up)("TheModal");return(0,o.wg)(),(0,o.iD)("form",{onSubmit:a[4]||(a[4]=(0,s.iM)(((...e)=>n.login&&n.login(...e)),["prevent"]))},[(0,o._)("div",Ue,[Me,(0,o._)("div",Ee,[He,(0,o.wy)((0,o._)("input",{type:"text",name:"email",placeholder:"email@address.com","onUpdate:modelValue":a[0]||(a[0]=e=>n.credentials.email=e)},null,512),[[s.nr,n.credentials.email]])]),(0,o._)("div",Oe,[qe,(0,o.wy)((0,o._)("input",{type:"password",name:"email","onUpdate:modelValue":a[1]||(a[1]=e=>n.credentials.password=e)},null,512),[[s.nr,n.credentials.password]])]),(0,o._)("span",Te,(0,f.zw)(n.loginErrorMsg),1),Re,(0,o._)("span",{onClick:a[2]||(a[2]=(...e)=>n.kakaoLogin&&n.kakaoLogin(...e)),class:"kakao-btn"},je),(0,o._)("span",{onClick:a[3]||(a[3]=(...e)=>n.openModal&&n.openModal(...e)),class:"forget-pw-text"},"비밀번호를 잊으셨습니까?")]),(0,o._)("div",null,[n.modal?((0,o.wg)(),(0,o.j4)(u,{key:0,onClose:n.openModal},{default:(0,o.w5)((()=>[(0,o.Wm)(l)])),_:1},8,["onClose"])):(0,o.kq)("",!0)])],32)}var Ae=t(6085),We=t.n(Ae);const $e={class:"modal-window"},Be={class:"top"},Ge={class:"content"};function Ze(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)("div",{class:"modal modal-overlay",onMousedown:a[1]||(a[1]=(0,s.iM)((a=>e.$emit("close")),["self"]))},[(0,o._)("div",$e,[(0,o._)("div",Be,[(0,o._)("button",{onClick:a[0]||(a[0]=a=>e.$emit("close"))},"X")]),(0,o._)("div",Ge,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])])],32)}var ze={name:"TheModal"};const Ke=(0,l.Z)(ze,[["render",Ze],["__scopeId","data-v-afb7beaa"]]);var Ye=Ke;const Je={id:"modal-content"},Fe={key:0,id:"user-box",class:"auth-done-false",style:{width:"100%"}},Qe={class:"user-input signup-email-input"},Xe=(0,o._)("span",null,"이메일",-1),ea={class:"email-input"},aa=["disabled"],ta={class:"email-auth-btns",style:{}},sa={key:0,class:"email-auth-btns-false"},oa={key:1,class:"email-auth-btns-true"},na={class:"info-text error-message"},ia={key:1,class:"auth-done-true"},ra=(0,o.Uk)("변경된 비밀번호 ");function la(e,a,t,n,i,r){const l=(0,o.up)("q-icon");return(0,o.wg)(),(0,o.iD)("div",Je,[n.isAuthDone?((0,o.wg)(),(0,o.iD)("div",ia,[(0,o._)("span",null,[ra,(0,o._)("p",null,(0,f.zw)(n.changePassword),1)])])):((0,o.wg)(),(0,o.iD)("div",Fe,[(0,o._)("div",Qe,[Xe,(0,o._)("div",ea,[(0,o.wy)((0,o._)("input",{disabled:n.isAuthOpen,type:"text",name:"email",placeholder:"email@address.com","onUpdate:modelValue":a[0]||(a[0]=e=>n.email=e)},null,8,aa),[[s.nr,n.email]]),(0,o.Wm)(l,{fontSize:"large",onClick:n.cancelEmail,class:"email-cancel",style:{position:"absolute",top:"50",left:"70%"},name:"close"},null,8,["onClick"]),(0,o._)("div",ta,[n.isAuthOpen?((0,o.wg)(),(0,o.iD)("div",oa,[(0,o._)("button",{class:"resend-btn",onClick:a[2]||(a[2]=(0,s.iM)(((...e)=>n.sendEmail&&n.sendEmail(...e)),["prevent"]))}," 재발송 "),(0,o._)("button",{style:{background:"black"},onClick:a[3]||(a[3]=(0,s.iM)(((...e)=>n.changePw&&n.changePw(...e)),["prevent"]))}," 완료 ")])):((0,o.wg)(),(0,o.iD)("div",sa,[(0,o._)("button",{onClick:a[1]||(a[1]=(0,s.iM)(((...e)=>n.sendEmail&&n.sendEmail(...e)),["prevent"])),style:{background:"black"},class:"modal-email-btn"}," 회원확인 ")]))])])]),(0,o._)("span",na,(0,f.zw)(n.emailErrorMsg),1)]))])}const ua="https://i7a501.p.ssafy.io/api/v1",ca="/users",da="/email",ma="/rooms",pa="/game",va="/certification",ga="https://i7a501.p.ssafy.io/login/kakao",fa="https://i7a501.p.ssafy.io/api/v1/users/oauth/kakao",_a=function(e,a,t=""){const s={url:ua+ma+a,method:e,headers:cd.getters.authHeader};return""!==t&&(s.data=t),s},wa=function(e,a,t=""){const s={url:ua+pa+a,method:e,headers:cd.getters.authHeader};return""!==t&&(s.data=t),s},ya=async function(e){let a="";try{a=await We()(e)}catch(t){a=t.response}return a};var ha={users:{signup:()=>ua+ca,duplicateEmail:e=>ua+ca+da+`/duplicate/check?userEmail=${e}`,sendEmail:()=>ua+ca+da+va,verifyEmail:e=>ua+ca+da+va+`/check?userEmail=${e}`,checkToken:()=>ua+ca+"/me",login:()=>ua+ca+"/auth/login",changeNickname:()=>ua+ca+"/nickname",changePassword:()=>ua+ca+"/password",sendEmailForPW:()=>ua+ca+da+va+"/pw",verifyEmailForPW:()=>ua+ca+da+va+"/pw/check",deleteUser:()=>ua+ca+"/delete",kakaoLogin:()=>ga,kakaoSendToken:()=>fa},room:{getRoomList:async e=>{const a=_a("GET","","");a.params={...e};const t=await ya(a);return t},createRoom:async e=>{const a=_a("POST","",e),t=await ya(a);return t},roomInfo:async e=>{const a=_a("GET",`/info/${e}`),t=await ya(a);return console.log(t),t},enterRoom:async e=>{const a=_a("POST","/enter",e),t=await ya(a);return t},editRoom:async(e,a)=>{const t=_a("PATCH",`/${e}`,a),s=await ya(t);return s},leaveRoom:async e=>{const a=_a("DELETE","/leave",e),t=await ya(a);return t},killRoom:async e=>{const a=_a("DELETE","",e),t=await ya(a);return t}},game:{getcallmyname:async()=>{const e=wa("GET","/callmyname"),a=await ya(e);return a},getliarsuggestion:async e=>{const a=wa("GET",`/${e}`),t=await ya(a);return t}}},ba={name:"ModalContent",setup(){const e=(0,x.iH)(!1),a=(0,x.iH)(!1),t=(0,x.iH)("이메일 인증 후 비밀번호가 변경됩니다"),s=(0,x.iH)(""),o=(0,p.tv)(),n=(0,x.iH)(""),i=function(){n.value="",t.value="이메일 인증 후 비밀번호가 변경됩니다",a.value=!1},r=async function(){try{const e=/^[a-zA-Z0-9.^$*?=!:/_-]+@[a-zA-Z]+\.[A-Za-z]{2,4}$/;if(!e.test(n.value))return void(t.value="이메일 형식이 올바르지 않습니다");t.value="유저 정보를 확인 중입니다";let s=await We()({url:ha.users.sendEmailForPW(),method:"POST",data:{userEmail:n.value}});if(200===s.data.statusCode)return a.value=!0,void(t.value="인증 이메일이 발송되었습니다. 인증 후 완료 버튼을 눌러주세요")}catch(e){403===e.response.data.statusCode?t.value="해당 이메일로 가입된 계정이 없습니다":500===e.response.data.statusCode&&o.push({name:"errorpage",params:{errorname:500}})}},l=async function(){try{let a=await We()({url:ha.users.verifyEmailForPW(n.value),method:"PUT",data:{userEmail:n.value}});200===a.data.statusCode&&(console.log(a.data),s.value=a.data.password,e.value=!0)}catch(a){401===a.response.data.statusCode?t.value="이메일 인증이 완료되지 않았습니다":500===a.response.data.statusCode&&o.push({name:"errorpage",params:{errorname:500}})}};return{isAuthDone:e,isAuthOpen:a,emailErrorMsg:t,changePassword:s,email:n,cancelEmail:i,sendEmail:r,changePw:l}}},ka=t(4633);const xa=(0,l.Z)(ba,[["render",la]]);var Ca=xa;Se()(ba,"components",{QIcon:ka.Z});var Sa={name:"LoginInput",components:{TheModal:Ye,ModalContent:Ca},setup(){const e=function(){window.location.href=`https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=9f41e650ba635f9ead57e2ffeea63af7&redirect_uri=${ha.users.kakaoLogin()}`},a=(0,i.oR)(),t=(0,x.iH)(!1),s=function(){t.value=!t.value},o=(0,x.iH)(""),n=(0,x.qj)({email:"",password:""}),r=async function(){try{if(!n.email||!n.password){const e=document.querySelector(".error-message");return e.style.color="#e31818",void(o.value="아이디와 비밀번호를 입력하세요")}{const e=await We()({url:ha.users.login(),method:"POST",data:{userEmail:n.email,userPassword:n.password}});if(200===e.status){const t=e.data.accessToken;a.dispatch("saveToken",t),a.dispatch("fetchMe"),id.push({name:"mainpage"})}}}catch(e){const a=document.querySelector(".error-message");return a.style.color="#e31818",void(o.value="입력한 정보를 다시 확인해 주세요")}};return{modal:t,loginErrorMsg:o,openModal:s,credentials:n,login:r,kakaoLogin:e}}};const Ia=(0,l.Z)(Sa,[["render",Ve]]);var Na=Ia;const Da={id:"signup-box"},Ua={id:"user-box"},Ma=(0,o._)("h5",null,"회원가입",-1),Ea={class:"user-input signup-email-input"},Ha=(0,o._)("span",null,"이메일",-1),Oa={class:"email-input"},qa=["disabled"],Ta={class:"email-auth-btns"},Ra={key:0,class:"email-auth-btns-false"},La={key:1,class:"email-auth-btns-true"},Pa={class:"info-text error-message email-error"},ja={class:"signup-password-input"},Va={class:"user-input"},Aa=(0,o._)("span",null,"비밀번호",-1),Wa={class:"user-input",style:{"margin-right":"0"}},$a=(0,o._)("span",null,"비밀번호 확인",-1),Ba={class:"info-text pw-error"},Ga={class:"user-input"},Za=(0,o._)("span",null,"닉네임",-1),za={class:"info-text nickname-error"},Ka={id:"clause-box"};function Ya(e,a,t,n,i,r){const l=(0,o.up)("q-icon"),u=(0,o.up)("ClauseText");return(0,o.wg)(),(0,o.iD)("div",Da,[(0,o._)("div",Ua,[Ma,(0,o._)("div",Ea,[Ha,(0,o._)("div",null,[(0,o._)("div",Oa,[(0,o.wy)((0,o._)("input",{disabled:n.isAuthOpen,type:"text",name:"email",placeholder:"email@address.com","onUpdate:modelValue":a[0]||(a[0]=e=>n.credentials.email=e)},null,8,qa),[[s.nr,n.credentials.email]]),(0,o.Wm)(l,{fontSize:"large",onClick:n.cancelEmail,class:"email-cancel",style:{position:"absolute",top:"50%"},name:"close"},null,8,["onClick"])]),(0,o._)("div",Ta,[n.isAuthOpen?((0,o.wg)(),(0,o.iD)("div",La,[(0,o._)("button",{class:"resend-btn",onClick:a[2]||(a[2]=(...e)=>n.sendEmail&&n.sendEmail(...e))},"재발송")])):((0,o.wg)(),(0,o.iD)("div",Ra,[(0,o._)("button",{onClick:a[1]||(a[1]=(...e)=>n.checkEmail&&n.checkEmail(...e))},"이메일 인증")]))])])]),(0,o._)("span",Pa,(0,f.zw)(n.emailErrorMsg),1),(0,o._)("div",ja,[(0,o._)("div",Va,[Aa,(0,o.wy)((0,o._)("input",{type:"password",name:"password","onUpdate:modelValue":a[3]||(a[3]=e=>n.credentials.password=e)},null,512),[[s.nr,n.credentials.password]])]),(0,o._)("div",Wa,[$a,(0,o.wy)((0,o._)("input",{type:"password",name:"passwordConfirm","onUpdate:modelValue":a[4]||(a[4]=e=>n.credentials.passwordConfirm=e)},null,512),[[s.nr,n.credentials.passwordConfirm]])])]),(0,o._)("span",Ba,(0,f.zw)(n.passwordErrorMsg),1),(0,o._)("div",Ga,[Za,(0,o.wy)((0,o._)("input",{type:"text",name:"nickname","onUpdate:modelValue":a[5]||(a[5]=e=>n.credentials.nickname=e)},null,512),[[s.nr,n.credentials.nickname]])]),(0,o._)("span",za,(0,f.zw)(n.nicknameErrorMsg),1),(0,o._)("button",{onClick:a[6]||(a[6]=(...e)=>n.checkSignup&&n.checkSignup(...e)),class:"auth-btn overlay__btn"}," 회원가입 ")]),(0,o._)("div",Ka,[(0,o.Wm)(u)])])}const Ja={class:"clause-text"},Fa=(0,o.uE)("<p>개인정보 수집 및 이용</p><br><p>1. 개인정보의 수집목적</p><p> WeSeePlay 홈페이지에서는 기본적인 회원 서비스 제공을 위한 필수정보를 수집하고 있습니다. WeSeePlay 홈페이지에서는 정보주체의 기본적 인권 침해의 우려가 있는 민감한 개인정보(사상,신념, 노동조합,정당의 가입,탈퇴, 정치적 견해, 건강, 성생활, 유전정보 및 범죄경력에 관한 정보 등)는 수집하지 않습니다. </p><br><p>가. 수집하는 개인정보의 항목</p><p> ○ WeSeePlay 홈페이지 회원서비스의 제공을 위해 아래와 같은 회원정보를 온라인상에서 입력받고 있습니다. </p><p>- (수집 항목)이메일</p><p> ○ 여러분이 우리구 홈페이지를 이용할 경우 다음의 정보는 자동적으로 수집,저장됩니다. </p><p>- 로그인 일시, 회원 가입 일시</p><br><p>나. 개인정보 수집방법</p><p>○ 홈페이지 회원가입을 통한 수집</p><br><p>2. 개인정보의 수집·이용목적 및 보유·이용기간</p><p> WeSeePlay 홈페이지에서는 정보주체의 회원 가입일로부터 서비스를 제공하는 기간 동안에 한하여 WeSeePlay 홈페이지 서비스를 이용하기 위한 최소한의 개인정보를 보유 및 이용 하게 됩니다. 회원가입 등을 통해 개인정보의 수집, 이용, 제공 등에 대해 동의하신 내용은 언제든지 철회하실 수 있습니다. 회원 탈퇴를 요청하거나 수집, 이용목적을 달성하거나 보유, 이용기간이 종료한 경우, 사업 폐지 등의 사유발생시 당해 개인정보를 지체없이 파기합니다. </p><p>○ 개인정보의 수집,이용 목적</p><p>- 홈페이지 이용에 따른 본인 식별, 인증 절차에 이용</p><p>○ 개인정보의 보유 및 이용기간</p><p> - 개인정보는 회원가입 또는 약관재동의 후 2년까지 보유되며, 정보주체는 개인정보의 수집·이용목적에 대한 동의를 거부할 수 있고, 동의 거부시에는 WeSeePlay 홈페이지에 회원가입이 되지 않으며, WeSeePlay 홈페이지에서 제공하는 서비스를 이용할 수 없습니다. </p>",20),Qa=[Fa];function Xa(e,a,t,s,n,i){return(0,o.wg)(),(0,o.iD)("div",Ja,Qa)}var et={name:"ClauseText"};const at=(0,l.Z)(et,[["render",Xa]]);var tt=at,st={name:"SignupInput",components:{ClauseText:tt},setup(e,a){const t=(0,x.iH)(!1),s=(0,p.tv)(),o=(0,x.iH)(""),n=(0,x.iH)("영문, 숫자, 특수문자를 각각 1개 이상 포함(8~16자)"),i=(0,x.iH)("한글 2~8자, 영문 6~24자(6~24 byte 이내)");let r=(0,x.qj)({email:"",password:"",passwordConfirm:"",nickname:""});const l=async function(){try{const e=/^[a-zA-Z0-9.^$*?=!:/_-]+@[a-zA-Z]+\.[A-Za-z]{2,4}$/;if(!e.test(r.email)){const e=document.querySelector(".email-error");return e.style.color="#e31818",void(o.value="이메일 형식이 올바르지 않습니다")}let a=await We()({url:ha.users.duplicateEmail(r.email),method:"GET"});if(200===a.status)return t.value=!0,void(a=c())}catch(e){if(409===e.response.data.statusCode){const e=document.querySelector(".email-error");e.style.color="#e31818",o.value="이미 가입한 이메일 주소입니다"}else 500===e.response.data.statusCode&&s.push({name:"errorpage",params:{errorname:500}})}},u=function(){const e=document.querySelector(".email-error");e.style.color="#625eef",r.email="",o.value="",t.value=!1},c=async function(){try{const e=document.querySelector(".email-error");e.style.color="#625eef",o.value="인증 이메일이 발송 중 입니다";const a=await We()({url:ha.users.sendEmail(),method:"POST",data:{userEmail:r.email}});200===a.data.statusCode&&(o.value="인증 이메일이 발송되었습니다")}catch(e){400===e.response.data.statusCode?o.value="인증 이메일을 보내는 데 실패했습니다":500===e.response.data.statusCode&&s.push({name:"errorpage",params:{errorname:500}})}},d=async function(){try{let e=!0;const s=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!<>{}|\\*[\]/%*#()?&]{8,16}$/;if(!0===t.value){await We().get(ha.users.verifyEmail(r.email))}if(r.password&&r.passwordConfirm)if(!0!==e||s.test(r.password)){if(!0===e&&r.password!==r.passwordConfirm){const a=document.querySelector(".pw-error");a.style.color="#e31818",n.value="두 비밀번호가 일치하지 않습니다",setTimeout((()=>{a.style.color="#625eef",n.value="영문, 숫자, 특수문자를 각각 1개 이상 포함(8~16자)"}),3e3),e=!1}}else{const a=document.querySelector(".pw-error");a.style.color="#e31818",n.value="비밀번호 형식이 잘못되었습니다.",setTimeout((()=>{a.style.color="#625eef",n.value="영문, 숫자, 특수문자를 각각 1개 이상 포함(8~16자)"}),3e3),e=!1}else{const a=document.querySelector(".pw-error");a.style.color="#e31818",n.value="비밀번호를 입력하세요",setTimeout((()=>{a.style.color="#625eef",n.value="영문, 숫자, 특수문자를 각각 1개 이상 포함(8~16자)"}),3e3),e=!1}if(r.nickname){if(!0===e&&(!(6<=r.nickname.replace(/[\0-\x7f]|([0-\u07ff]|(.))/g,"$&$1$2").length)||!(r.nickname.replace(/[\0-\x7f]|([0-\u07ff]|(.))/g,"$&$1$2").length<=24)||!/^[ㄱ-ㅎ|가-힣|a-z|A-Z|]+$/.test(r.nickname))){const a=document.querySelector(".nickname-error");a.style.color="#e31818",i.value="닉네임 형식이 잘못되었습니다.",setTimeout((()=>{a.style.color="#625eef",i.value="한글 2~8자, 영문 6~24자(6~24 byte 이내)"}),3e3),e=!1}}else{const a=document.querySelector(".nickname-error");a.style.color="#e31818",i.value="닉네임을 입력하세요",e=!1}if(!1===e)return;const o=await We()({url:ha.users.signup(),method:"POST",data:{userEmail:r.email,userPassword:r.password,userNickname:r.nickname}});if(201===o.status)return m().fire({position:"top-end",icon:"success",title:"회원가입이 완료되었습니다",showConfirmButton:!1,timer:1500}),void a.emit("signup-done")}catch(e){401===e.response.status?o.value="이메일 인증을 완료해 주세요":400===e.response.status?o.value="이메일 주소를 확인해주세요":s.push({name:"errorpage",params:{errorname:500}})}};return{isAuthOpen:t,emailErrorMsg:o,passwordErrorMsg:n,nicknameErrorMsg:i,credentials:r,sendEmail:c,checkEmail:l,checkSignup:d,cancelEmail:u}}};const ot=(0,l.Z)(st,[["render",Ya]]);var nt=ot;Se()(st,"components",{QIcon:ka.Z});var it={name:"FisrtPage",components:{TheBackground:M,TheCarousel:Ne,LoginInput:Na,SignupInput:nt},setup(){const e=(0,x.iH)(!1),a=(0,x.iH)(!1),t=(0,x.iH)("로그인"),s=(0,x.iH)("회원가입"),o=function(){!1===e.value&&!1===a.value?(t.value="뒤로가기",e.value=!e.value):!0===a.value?(s.value="회원가입",t.value="뒤로가기",e.value=!e.value,a.value=!a.value):"뒤로가기"===t.value&&(t.value="로그인",e.value=!e.value)},n=function(){!1===a.value&&!1===e.value?(s.value="뒤로가기",a.value=!a.value):!0===e.value?(t.value="로그인",s.value="뒤로가기",e.value=!e.value,a.value=!a.value):"뒤로가기"===s.value&&(s.value="회원가입",a.value=!a.value)};return{isLoginOpen:e,isSignupOpen:a,loginOpen:o,signupOpen:n,loginText:t,signupText:s}}};const rt=(0,l.Z)(it,[["render",k]]);var lt=rt,ut={name:"StartView",setup(){},components:{StartPage:lt}};const ct=(0,l.Z)(ut,[["render",g],["__scopeId","data-v-4bf62cca"]]);var dt=ct,mt=t.p+"img/logo_nontext.a453db23.png";const pt={id:"meeting-list-page"},vt={class:"flex flex-center"},gt={id:"container",class:"flex flex-center"},ft=(0,o._)("div",{class:"main-text"},[(0,o._)("img",{src:mt}),(0,o._)("h6",null,"We See! We Play!")],-1),_t={id:"body-content",class:"row"},wt={id:"tool-bar",class:"row col-12 flex items-center justify-center"},yt={class:"search-form"},ht=(0,o.Uk)(" 방 생성 "),bt=(0,o._)("span",{class:"material-icons"}," group_add ",-1),kt=[ht,bt],xt={id:"search-enzine-section"},Ct={id:"sort-line"},St={class:"private-box"},It={id:"private-btn"},Nt=(0,o._)("label",{class:"tgl-btn",for:"cb1"},null,-1),Dt={key:0},Ut={key:1},Mt={id:"sort-method"},Et=(0,o._)("div",{id:"separator"},[(0,o._)("hr")],-1),Ht={class:"col-12"},Ot={class:"q-pa-lg flex flex-center"};function qt(e,a,t,n,i,r){const l=(0,o.up)("TheBackground"),u=(0,o.up)("nav-bar"),c=(0,o.up)("search-enzine"),d=(0,o.up)("meeting-card-sort"),m=(0,o.up)("meeting-card"),p=(0,o.up)("q-pagination"),v=(0,o.up)("CreateRoomModalContent"),g=(0,o.up)("CreateRoomModal"),f=(0,o.up)("DetailModalContent"),_=(0,o.up)("DetailModal"),w=(0,o.up)("AuthModalContent"),y=(0,o.up)("AuthModal"),h=(0,o.up)("DeleteUserModalContent"),b=(0,o.up)("DeleteUserModal");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(l),(0,o._)("div",pt,[(0,o.Wm)(u,{onChangePw:a[0]||(a[0]=e=>n.isChangePw=!0),onDeleteUser:a[1]||(a[1]=e=>n.isDeleteUser=!0)}),(0,o._)("div",vt,[(0,o._)("div",gt,[ft,(0,o._)("div",_t,[(0,o._)("div",wt,[(0,o._)("div",yt,[(0,o._)("button",{id:"room-create-btn",onClick:a[2]||(a[2]=e=>n.isCreateRoomModal=!0)},kt),(0,o._)("div",xt,[(0,o.Wm)(c,{meetingquery:n.lookupInfo.query,onQueryFromChild:n.getQuery},null,8,["meetingquery","onQueryFromChild"])])]),(0,o._)("div",Ct,[(0,o._)("div",St,[(0,o._)("div",It,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>n.isPrivatebtn=e),class:"tgl tgl-light",id:"cb1",type:"checkbox"},null,512),[[s.e8,n.isPrivatebtn]]),Nt]),n.isPrivatebtn?((0,o.wg)(),(0,o.iD)("span",Dt,"공개방 조회")):((0,o.wg)(),(0,o.iD)("span",Ut,"전체방 조회"))]),(0,o._)("div",Mt,[(0,o.Wm)(d,{sortinglevel:n.lookupInfo.sortingOrder,sortingmethod:n.lookupInfo.sortingMethod,onChangeSortLevel:n.changeSortLevel,onChangeSortMethod:n.changeSortMethod},null,8,["sortinglevel","sortingmethod","onChangeSortLevel","onChangeSortMethod"])])]),Et]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.roomsInfo,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"col-md-4 col-sm-6 col-12",key:e},[(0,o.Wm)(m,{info:e,onClick:a=>n.openDetail(e)},null,8,["info","onClick"])])))),128)),(0,o._)("div",Ht,[(0,o._)("div",Ot,[(0,o.Wm)(p,{autocomplete:"off",modelValue:n.lookupInfo.pageNumber,"onUpdate:modelValue":a[4]||(a[4]=e=>n.lookupInfo.pageNumber=e),color:"purple-7","input-class":"text-purple-7",max:n.maxpage,input:""},null,8,["modelValue","max"])])])])])]),n.isCreateRoomModal?((0,o.wg)(),(0,o.j4)(g,{key:0,onClose:a[5]||(a[5]=e=>n.isCreateRoomModal=!1)},{default:(0,o.w5)((()=>[(0,o.Wm)(v)])),_:1})):(0,o.kq)("",!0),n.isDetailModal?((0,o.wg)(),(0,o.j4)(_,{key:1,onClose:a[6]||(a[6]=e=>n.isDetailModal=!1)},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{roomId:n.detailRoomId},null,8,["roomId"])])),_:1})):(0,o.kq)("",!0),n.isChangePw?((0,o.wg)(),(0,o.j4)(y,{key:2,onClose:a[7]||(a[7]=e=>n.isChangePw=!1)},{default:(0,o.w5)((()=>[(0,o.Wm)(w)])),_:1})):(0,o.kq)("",!0),n.isDeleteUser?((0,o.wg)(),(0,o.j4)(b,{key:3,onClose:a[8]||(a[8]=e=>n.isDeleteUser=!1)},{default:(0,o.w5)((()=>[(0,o.Wm)(h)])),_:1})):(0,o.kq)("",!0)])],64)}const Tt=e=>((0,o.dD)("data-v-70e595b1"),e=e(),(0,o.Cn)(),e),Rt={id:"search-enzine"},Lt=Tt((()=>(0,o._)("i",{class:"fa-solid fa-microphone"},null,-1))),Pt=[Lt];function jt(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)("div",Rt,[(0,o.wy)((0,o._)("input",{id:"search-enzine-bar",rounded:"","onUpdate:modelValue":a[0]||(a[0]=e=>n.query=e),outlined:"",placeholder:"search with title"},null,512),[[s.nr,n.query]]),(0,o._)("button",{class:"on-voice-btn",onClick:a[1]||(a[1]=(...e)=>n.onVoice&&n.onVoice(...e))},Pt)])}var Vt={name:"SearchEnzine",props:{meetingquery:String},setup(e,{emit:a}){const t=(0,x.iH)("");(0,o.m0)((()=>{a("queryFromChild",t.value)}));const s=function(){const e=document.querySelector(".on-voice-btn");e.classList.add("active"),window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;const a=new window.SpeechRecognition;a.interimResults=!1,a.lang="ko-KR";let s="";a.addEventListener("result",(a=>{const o=Array.from(a.results).map((e=>e[0])).map((e=>e.transcript)).join("");s=o,t.value+=s,a.results[0].isFinal&&(s=" ",this.inputKeyword+=s,e.classList.remove("active"))})),a.start()};return{query:t,onVoice:s}}};const At=(0,l.Z)(Vt,[["render",jt],["__scopeId","data-v-70e595b1"]]);var Wt=At;const $t=e=>((0,o.dD)("data-v-5251b3f6"),e=e(),(0,o.Cn)(),e),Bt={class:"navbar"},Gt={class:"navbar-content"},Zt=$t((()=>(0,o._)("div",{class:"logo-box"},[(0,o._)("div",{class:"name"},"WeSeePlay"),(0,o._)("img",{src:mt})],-1))),zt={class:"user-text nav-item"},Kt={class:"welcome-text"},Yt=(0,o.Uk)("반가워요, "),Jt={style:{"margin-left":"0.5rem","margin-right":"0.1rem"}},Ft=(0,o.Uk)(" 님 +"),Qt={class:"dropdown-box"},Xt={key:1,class:"nickname-input"},es=["placeholder"],as=$t((()=>(0,o._)("span",null,"로그아웃",-1))),ts=$t((()=>(0,o._)("i",{class:"fa-solid fa-arrow-right-from-bracket"},null,-1))),ss=[as,ts];function os(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)("nav",Bt,[(0,o._)("ul",Gt,[Zt,(0,o._)("li",zt,[(0,o._)("span",Kt,[Yt,(0,o._)("p",Jt,(0,f.zw)(n.username),1),Ft]),(0,o._)("ul",Qt,[n.isChangeNickname?((0,o.wg)(),(0,o.iD)("li",Xt,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>n.credentials.nicknameInput=e),type:"text",placeholder:n.username},null,8,es),[[s.nr,n.credentials.nicknameInput]]),(0,o._)("span",{onClick:a[2]||(a[2]=(...e)=>n.onChangeNickname&&n.onChangeNickname(...e))},"X"),(0,o._)("button",{onClick:a[3]||(a[3]=(0,s.iM)(((...e)=>n.changeNickname&&n.changeNickname(...e)),["prevent"]))},"변경")])):((0,o.wg)(),(0,o.iD)("li",{key:0,onClick:a[0]||(a[0]=(...e)=>n.onChangeNickname&&n.onChangeNickname(...e))}," 닉네임 변경 ")),(0,o._)("li",{onClick:a[4]||(a[4]=a=>e.$emit("change-pw"))},"비밀번호 변경"),(0,o._)("li",{onClick:a[5]||(a[5]=a=>e.$emit("delete-user"))},"회원 삭제")])]),(0,o._)("li",{onClick:a[6]||(a[6]=(...e)=>n.logout&&n.logout(...e)),class:"nav-item logout-box"},ss)])])}var ns={name:"NavBar",setup(){const e=(0,x.iH)(!1);let a=(0,x.qj)({nicknameInput:""});const t=function(){e.value=!e.value},s=(0,i.oR)(),n=(0,p.tv)(),r=(0,x.iH)(""),l=(0,x.iH)("");(0,o.m0)((()=>{l.value=s.getters.me.userNickname,r.value=s.getters.me.userEmail}));const u=function(){s.dispatch("logout")},c=async function(){try{let e=!0;if(a.nicknameInput?a.nicknameInput===l.value?(m().fire({icon:"error",text:"현재 사용하고 계신 닉네임과 다른 닉네임을 입력해 주세요"}),e=!1):!0!==e||6<=a.nicknameInput.replace(/[\0-\x7f]|([0-\u07ff]|(.))/g,"$&$1$2").length&&a.nicknameInput.replace(/[\0-\x7f]|([0-\u07ff]|(.))/g,"$&$1$2").length<=24&&/^[ㄱ-ㅎ|가-힣|a-z|A-Z|0-9]+$/.test(a.nicknameInput)||(m().fire({icon:"error",title:"닉네임 형식이 잘못되었습니다.",text:"한글 2~8자, 영문 6~24자(6~24 byte 이내)"}),e=!1):(m().fire({icon:"error",text:"닉네임을 입력하세요"}),e=!1),!1===e)return;const t=await We()({url:ha.users.changeNickname(),method:"PATCH",headers:s.getters.authHeader,data:{userEmail:r.value,userNewNickname:a.nicknameInput}});200===t.status&&(a.nicknameInput="",s.dispatch("fetchMe"))}catch(e){404===e.response.status?(m().fire({icon:"error",text:"존재하지 않는 계정입니다. 다시 시도해 주세요."}),s.dispatch("logout")):n.push({name:"errorpage",params:{errorname:500}})}};return{username:l,isChangeNickname:e,onChangeNickname:t,credentials:a,changeNickname:c,logout:u}}};const is=(0,l.Z)(ns,[["render",os],["__scopeId","data-v-5251b3f6"]]);var rs=is;const ls=e=>((0,o.dD)("data-v-2a248d95"),e=e(),(0,o.Cn)(),e),us={id:"card-box",class:"flex flex-center"},cs={id:"card-head"},ds={id:"card-title"},ms={id:"isprivate-icon",class:"fa-solid fa-lock"},ps={id:"card-host",class:"col-12"},vs={class:"col-12 card-bottom"},gs={key:0,class:"game-info"},fs=ls((()=>(0,o._)("span",null,[(0,o._)("i",{class:"fa-solid fa-gamepad"})],-1))),_s=ls((()=>(0,o._)("span",null,"현재 게임 진행 중!",-1))),ws=[fs,_s],ys={id:"people-number"};function hs(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)("div",us,[(0,o._)("div",{id:"card-container",onClick:a[0]||(a[0]=a=>e.icon=!0)},[(0,o._)("div",cs,[(0,o._)("span",ds,(0,f.zw)(t.info.title),1),(0,o.wy)((0,o._)("i",ms,null,512),[[s.F8,t.info.isPrivate]])]),(0,o._)("div",ps,"host: "+(0,f.zw)(t.info.hostNickname),1),(0,o._)("div",vs,[1!==t.info.game?((0,o.wg)(),(0,o.iD)("div",gs,ws)):(0,o.kq)("",!0),(0,o._)("span",ys,"   "+(0,f.zw)(n.userNum)+"명/12명 ",1)])])])}var bs={components:{},props:{info:Object},setup(e){const a=e.info.joinUsers.length+1;return{userNum:a}}};const ks=(0,l.Z)(bs,[["render",hs],["__scopeId","data-v-2a248d95"]]);var xs=ks;const Cs=e=>((0,o.dD)("data-v-f10ec874"),e=e(),(0,o.Cn)(),e),Ss={id:"sort-area"},Is=Cs((()=>(0,o._)("span",null," | ",-1)));function Ns(e,a,t,s,n,i){return(0,o.wg)(),(0,o.iD)("div",Ss,["byTime"===t.sortingmethod?((0,o.wg)(),(0,o.iD)("a",{key:0,style:{color:"black",cursor:"pointer"},onClick:a[0]||(a[0]=(...e)=>s.changeSortMethod&&s.changeSortMethod(...e))},"시간 순 ")):((0,o.wg)(),(0,o.iD)("a",{key:1,style:{color:"black",cursor:"pointer"},onClick:a[1]||(a[1]=(...e)=>s.changeSortMethod&&s.changeSortMethod(...e))},"인원 순 ")),Is,"toUp"===t.sortinglevel?((0,o.wg)(),(0,o.iD)("a",{key:2,style:{color:"black",cursor:"pointer"},onClick:a[2]||(a[2]=(...e)=>s.changeSortLevel&&s.changeSortLevel(...e))},"오름 ")):((0,o.wg)(),(0,o.iD)("a",{key:3,style:{color:"black",cursor:"pointer"},onClick:a[3]||(a[3]=(...e)=>s.changeSortLevel&&s.changeSortLevel(...e))},"내림 "))])}var Ds={props:{sortinglevel:String,sortingmethod:String},setup(e,{emit:a}){function t(e){a("changeSortLevel",e)}function s(e){a("changeSortMethod",e)}return{changeSortLevel:t,changeSortMethod:s}}};const Us=(0,l.Z)(Ds,[["render",Ns],["__scopeId","data-v-f10ec874"]]);var Ms=Us;const Es={class:"modal-window"},Hs={class:"top"},Os={class:"content"};function qs(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)("div",{class:"modal modal-overlay",onMousedown:a[1]||(a[1]=(0,s.iM)((a=>e.$emit("close")),["self"]))},[(0,o._)("div",Es,[(0,o._)("div",Hs,[(0,o._)("button",{onClick:a[0]||(a[0]=a=>e.$emit("close"))},"X")]),(0,o._)("div",Os,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])])],32)}var Ts={name:"CreateRoomModal"};const Rs=(0,l.Z)(Ts,[["render",qs],["__scopeId","data-v-80e515e4"]]);var Ls=Rs;const Ps={class:"user-input"},js=(0,o._)("span",null,"방 제목",-1),Vs={class:"user-input"},As=(0,o._)("span",null,"방 설명",-1),Ws={class:"private-check"},$s=(0,o._)("span",null,"비공개",-1),Bs={class:"user-input"},Gs=["disabled"],Zs={class:"room-create-error-msg"};var zs={__name:"CreateRoomModalContent",setup(e){const a=(0,p.tv)();let t=(0,x.qj)({title:"",descript:"어서와요",roomPassword:"",game:1,isPrivate:!1});const n=(0,x.iH)(""),i=async function(){const e={...t};if(t.isPrivate||(e.roomPassword=""),e.isPrivate=Number(e.isPrivate),""==t.title)return void(n.value="방 이름을 정해 주세요");if(t.isPrivate&&(t.roomPassword.length<4||12<t.roomPassword.length))return void(n.value="4 ~ 12자리의 비밀번호를 정해주세요");const s=await ha.room.createRoom(e);if(201===s.status){const e=s.data.roomId;a.push({name:"roompage",params:{roomId:e}})}else m().fire({title:"방 생성에 실패했습니다",text:`Errorcode: ${s.status}`})};return(e,a)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",Ps,[js,(0,o.wy)((0,o._)("input",{type:"text",name:"title","onUpdate:modelValue":a[0]||(a[0]=e=>(0,x.SU)(t).title=e)},null,512),[[s.nr,(0,x.SU)(t).title]])]),(0,o._)("div",Vs,[As,(0,o.wy)((0,o._)("textarea",{type:"text",rows:"5",name:"descript","onUpdate:modelValue":a[1]||(a[1]=e=>(0,x.SU)(t).descript=e)},null,512),[[s.nr,(0,x.SU)(t).descript]])]),(0,o._)("div",Ws,[$s,(0,o.wy)((0,o._)("input",{type:"checkbox",name:"is_private","onUpdate:modelValue":a[2]||(a[2]=e=>(0,x.SU)(t).isPrivate=e)},null,512),[[s.e8,(0,x.SU)(t).isPrivate]])]),(0,o._)("div",Bs,[(0,o.wy)((0,o._)("input",{type:"password",name:"roomPassword","onUpdate:modelValue":a[3]||(a[3]=e=>(0,x.SU)(t).roomPassword=e),placeholder:"4 ~ 12자리의 비밀번호를 정해주세요",disabled:0==(0,x.SU)(t).isPrivate},null,8,Gs),[[s.nr,(0,x.SU)(t).roomPassword]])]),(0,o._)("span",Zs,(0,f.zw)(n.value),1),(0,o._)("div",{class:"btns-box"},[(0,o._)("button",{class:"overlay__btn",onClick:i},"생성")])],64))}};const Ks=zs;var Ys=Ks;const Js={class:"modal-window"},Fs={class:"top"},Qs={class:"content"};function Xs(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)("div",{class:"modal modal-overlay",onMousedown:a[1]||(a[1]=(0,s.iM)((a=>e.$emit("close")),["self"]))},[(0,o._)("div",Js,[(0,o._)("div",Fs,[(0,o._)("button",{onClick:a[0]||(a[0]=a=>e.$emit("close"))},"X")]),(0,o._)("div",Qs,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])])],32)}var eo={name:"DetailModal"};const ao=(0,l.Z)(eo,[["render",Xs],["__scopeId","data-v-1ad9c873"]]);var to=ao;const so={class:"detail-text"},oo={class:"title-game-info"},no=(0,o._)("span",null,"제목",-1),io={key:0,class:"game-info"},ro=(0,o._)("span",null,[(0,o._)("i",{class:"fa-solid fa-gamepad"})],-1),lo=(0,o._)("span",null,"현재 게임 진행 중!",-1),uo=[ro,lo],co={class:"host-info"},mo=(0,o._)("span",null,"호스트 ",-1),po={class:"time-info"},vo=(0,o._)("span",null,"방 개설 시간",-1),go={class:"discript-info detail-text"},fo=(0,o._)("span",null,"내용",-1),_o={key:0,class:"detail-text"},wo={class:"user-list"},yo={key:1,class:"user-input room-pw-input"},ho=(0,o._)("span",null,"비밀번호",-1),bo=(0,o._)("span",{style:{color:"#625eef","font-size":"0.9rem","margin-top":"0.2rem"}}," 비공개 방입니다.",-1);var ko={__name:"DetailModalContent",props:{roomId:Number},setup(e){const a=e,t=(0,x.iH)({joinUsers:[]}),n=(0,i.oR)(),r=(0,p.tv)(),l=(0,x.iH)("");(0,o.m0)((async()=>{const e=await ha.room.roomInfo(a.roomId),{status:s,data:o}=e;200===s?t.value=o:m().fire({title:"방 정보가 존재하지 않습니다.",icon:"error"});let n=new Date(`${o.callStartTime} UTC`);o.callStartTime=n.toLocaleString("ko-KR")}));const u={inGame:"게임 중인 방에는 입장할 수 없습니다",inRoom:"이미 참가 중인 방 입니다! <br><br> 1초 후, Room으로 이동합니다.","Bad Request - Bad Password":"비밀번호가 틀렸습니다","Bad Request - Too Many People":"수용 인원을 초과하였습니다!","Bad Request - Can't Enter Game Room":"게임 중인 방에는 입장할 수 없습니다","Bad Request - No User":"존재하지 않는 계정입니다. 다시 시도해 주세요.","Bad Request - No Room":"해당 Room은 존재하지 않습니다."},c=async function(e){await m().fire({icon:"error",html:`${u[e]}`,timer:1e3})},d=async function(){const e={roomId:t.value.roomId,inputPassword:l.value},{status:s,data:o}=await ha.room.enterRoom(e);200!==s?400===s?(await c(o.message),"Bad Request - No User"===o.message?n.dispatch("logout"):"Bad Request - No Room"===o.message&&location.reload()):r.push({name:"errorpage",params:{errorname:500}}):r.push({name:"roompage",params:{roomId:a.roomId}})};return(e,a)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",so,[(0,o._)("div",oo,[no,1!==t.value.game?((0,o.wg)(),(0,o.iD)("div",io,uo)):(0,o.kq)("",!0)]),(0,o._)("p",null,(0,f.zw)(t.value.title),1)]),(0,o._)("div",co,[mo,(0,o._)("p",null,(0,f.zw)(t.value.hostNickname),1)]),(0,o._)("div",po,[vo,(0,o._)("p",null,(0,f.zw)(t.value.callStartTime),1)]),(0,o._)("div",go,[fo,(0,o._)("p",null,(0,f.zw)(t.value.descript),1)]),t.value.isPrivate?((0,o.wg)(),(0,o.iD)("div",yo,[ho,bo,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),type:"password"},null,512),[[s.nr,l.value]])])):((0,o.wg)(),(0,o.iD)("div",_o,[(0,o._)("span",null,"참여자 목록 ("+(0,f.zw)(t.value.joinUsers.length+1)+")",1),(0,o._)("div",wo,[(0,o._)("div",null,(0,f.zw)(t.value.hostNickname),1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.value.joinUsers,((e,a)=>((0,o.wg)(),(0,o.iD)("div",{key:a},(0,f.zw)(e.userNickname),1)))),128))])])),(0,o._)("button",{onClick:d,class:"overlay__btn join-btn"},"방 입장")],64))}};const xo=ko;var Co=xo;const So={class:"modal-window"},Io={class:"top"},No={class:"content"};function Do(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)("div",{class:"modal modal-overlay",onMousedown:a[1]||(a[1]=(0,s.iM)((a=>e.$emit("close")),["self"]))},[(0,o._)("div",So,[(0,o._)("div",Io,[(0,o._)("button",{onClick:a[0]||(a[0]=a=>e.$emit("close"))},"X")]),(0,o._)("form",null,[(0,o._)("div",No,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])])])],32)}var Uo={name:"AuthModal"};const Mo=(0,l.Z)(Uo,[["render",Do],["__scopeId","data-v-61ea102d"]]);var Eo=Mo;const Ho={class:"user-input"},Oo=(0,o._)("span",null,"기존 비밀번호",-1),qo={class:"user-input auth-input"},To=(0,o._)("span",null,"새로운 비밀번호",-1),Ro={class:"user-input auth-input"},Lo=(0,o._)("span",null,"비밀번호 확인",-1),Po={class:"auth-error-msg"};function jo(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",Ho,[Oo,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>n.credentials.password=e),type:"password"},null,512),[[s.nr,n.credentials.password]])]),(0,o._)("div",qo,[To,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>n.credentials.newPassword=e),type:"password"},null,512),[[s.nr,n.credentials.newPassword]])]),(0,o._)("div",Ro,[Lo,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>n.credentials.passwordConfirm=e),type:"password"},null,512),[[s.nr,n.credentials.passwordConfirm]])]),(0,o._)("span",Po,(0,f.zw)(n.passwordErrorMsg),1),(0,o._)("button",{class:"overlay__btn pw-change-btn",onClick:a[3]||(a[3]=(0,s.iM)(((...e)=>n.changePassword&&n.changePassword(...e)),["prevent"]))}," 비밀번호 변경 ")],64)}var Vo={name:"AuthModalContent",setup(){const e=(0,x.iH)("영문, 숫자, 특수문자를 각각 1개 이상 포함(8~16자)");let a=(0,x.qj)({password:"",newPassword:"",passwordConfirm:""});const t=(0,i.oR)(),s=(0,p.tv)(),o=async function(){try{t.dispatch("fetchMe");const s=t.getters.me.userEmail;let o=!0;const n=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[!#$%&'*+-/=?^_`{|}~."(),:;<>@[\]\\])[A-Za-z\d!#$%&'*+-/=?^_`{|}~."(),:;<>@[\]\\]{8,16}$/;if(a.newPassword&&a.passwordConfirm)if(!0!==o||n.test(a.newPassword)){if(!0===o&&a.newPassword!==a.passwordConfirm){const a=document.querySelector(".auth-error-msg");a.style.color="#e31818",e.value="두 비밀번호가 일치하지 않습니다",setTimeout((()=>{a.style.color="#625eef",e.value="영문, 숫자, 특수문자를 각각 1개 이상 포함(8~16자)"}),3e3),o=!1}else if(!0===o&&a.password===a.newPassword){const a=document.querySelector(".auth-error-msg");a.style.color="#e31818",e.value="기존의 비밀번호와 동일한 비밀번호로 변경할 수 없습니다",setTimeout((()=>{a.style.color="#625eef",e.value="영문, 숫자, 특수문자를 각각 1개 이상 포함(8~16자)"}),3e3),o=!1}}else{const a=document.querySelector(".auth-error-msg");a.style.color="#e31818",e.value="비밀번호 형식이 잘못되었습니다.",setTimeout((()=>{a.style.color="#625eef",e.value="영문, 숫자, 특수문자를 각각 1개 이상 포함(8~16자)"}),3e3),o=!1}else{const a=document.querySelector(".auth-error-msg");a.style.color="#e31818",e.value="비밀번호를 입력하세요",setTimeout((()=>{a.style.color="#625eef",e.value="영문, 숫자, 특수문자를 각각 1개 이상 포함(8~16자)"}),3e3),o=!1}if(!1===o)return;const i=await We()({url:ha.users.changePassword(),method:"PATCH",headers:t.getters.authHeader,data:{userEmail:s,userPassword:a.password,userNewPassword:a.newPassword}});200===i.status&&(m().fire({icon:"success",text:"비밀번호 변경이 완료되었습니다. 다시 로그인해 주세요."}),t.dispatch("logout"))}catch(o){401===o.response.status?e.value="비밀번호가 틀렸습니다.":404===o.response.status?(m().fire({icon:"error",text:"존재하지 않는 계정입니다. 다시 시도해 주세요."}),t.dispatch("logout")):s.push({name:"errorpage",params:{errorname:500}})}};return{passwordErrorMsg:e,credentials:a,changePassword:o}}};const Ao=(0,l.Z)(Vo,[["render",jo]]);var Wo=Ao;const $o={class:"modal-window"},Bo={class:"top"},Go={class:"content"};function Zo(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)("div",{class:"modal modal-overlay",onMousedown:a[1]||(a[1]=(0,s.iM)((a=>e.$emit("close")),["self"]))},[(0,o._)("div",$o,[(0,o._)("div",Bo,[(0,o._)("button",{onClick:a[0]||(a[0]=a=>e.$emit("close"))},"X")]),(0,o._)("form",null,[(0,o._)("div",Go,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])])])],32)}var zo={name:"DeleteUserModal"};const Ko=(0,l.Z)(zo,[["render",Zo],["__scopeId","data-v-0d3756f5"]]);var Yo=Ko;const Jo=(0,o._)("div",{class:"delete-text"},[(0,o._)("span",null,"회원 삭제"),(0,o._)("p",null,[(0,o.Uk)(" 삭제 후에는 계정을 다시 이용할 수 없습니다 "),(0,o._)("br"),(0,o.Uk)("정말로 삭제를 원하신다면 아래 문구를 입력해 주세요 ")])],-1),Fo={class:"user-input"},Qo=(0,o._)("p",{class:"confirm-text"},"계정 삭제에 동의합니다.",-1);function Xo(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)(o.HY,null,[Jo,(0,o._)("div",Fo,[Qo,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>n.confirmationText=e),placeholder:"위의 문구를 입력해 주세요"},null,512),[[s.nr,n.confirmationText]])]),(0,o._)("button",{onClick:a[1]||(a[1]=(0,s.iM)(((...e)=>n.deleteUser&&n.deleteUser(...e)),["prevent"])),class:"overlay__btn pw-change-btn",style:{"margin-top":"0"}}," 계정삭제 ")],64)}var en={name:"DeleteUserModalContent",setup(){const e=(0,x.iH)(""),a=(0,i.oR)(),t=(0,p.tv)(),s=async function(){try{if("계정 삭제에 동의합니다."!==e.value)return void m().fire({icon:"error",text:"확인문구가 틀렸습니다"});const t=await We()({url:ha.users.deleteUser(),method:"DELETE",headers:a.getters.authHeader});console.log(t),200===t.status&&(m().fire({icon:"success",text:"계정 삭제가 완료되었습니다. 다시 만나요!"}),a.dispatch("logout"))}catch(s){401===s.response.status?(m().fire({icon:"error",text:"오류가 발생했습니다. 다시 시도해 주세요."}),a.dispatch("logout")):404===s.response.status?(m().fire({icon:"error",text:"존재하지 않는 계정입니다. 다시 시도해 주세요."}),a.dispatch("logout")):t.push({name:"errorpage",params:{errorname:500}})}};return{confirmationText:e,deleteUser:s}}};const an=(0,l.Z)(en,[["render",Xo]]);var tn=an,sn={name:"MainPage",components:{TheBackground:M,SearchEnzine:Wt,NavBar:rs,MeetingCard:xs,MeetingCardSort:Ms,CreateRoomModal:Ls,CreateRoomModalContent:Ys,DetailModal:to,DetailModalContent:Co,AuthModal:Eo,AuthModalContent:Wo,DeleteUserModal:Yo,DeleteUserModalContent:tn},setup(){let e=(0,x.iH)(""),a=(0,x.iH)("");function t(a){e.value=a,l.query=a}function s(){"toUp"==l.sortingOrder?l.sortingOrder="toDown":l.sortingOrder="toUp"}function n(){"byTime"==l.sortingMethod?l.sortingMethod="byUserNumByTime":l.sortingMethod="byTime"}let i,r=(0,x.iH)(!0),l=(0,x.qj)({pageNumber:1,contentsCount:6,sortingOrder:"toDown",sortingMethod:"byTime",query:e.value,queryType:1,isPrivate:!1}),u=(0,x.iH)([]);for(i=0;i<25;i++)u.value.push({roomId:i,hostNickname:i,callStartTime:"2022.08.01",title:"님만 오면 고"+i,descript:"방 설명",isPrivate:i%2,game:0,joinUsers:["유저1","유저2","유저3","유저4","유저5"]});let c=(0,x.iH)(1),d=(0,x.iH)(Array);const m=async function(){const e={...l};e.isPrivate=Number(r.value);const t=await ha.room.getRoomList(e),{status:s,data:o}=t;200===s?(d.value=o.content,c.value=o.totalPage):(a.value="조회 실패",d.value=[...u.value.slice(6*l.pageNumber-6,6*l.pageNumber)])};(0,o.wF)((async()=>{await m()})),(0,o.m0)((async()=>{await m()}));const p=(0,x.iH)(!1),v=(0,x.iH)({}),g=function(e){p.value=!0,v.value=e.roomId};return{getRoomList:m,meetingquery:e,getQuery:t,changeSortMethod:n,changeSortLevel:s,isPrivatebtn:r,maxpage:c,lookupInfo:l,isCreateRoomModal:(0,x.iH)(!1),isDetailModal:p,roomsInfo:d,openDetail:g,detailRoomId:v,isChangePw:(0,x.iH)(!1),isDeleteUser:(0,x.iH)(!1)}}},on=t(7139);const nn=(0,l.Z)(sn,[["render",qt]]);var rn=nn;Se()(sn,"components",{QPagination:on.Z});var ln=t.p+"img/greenkiwi.84672f80.png";const un=e=>((0,o.dD)("data-v-1dd7d299"),e=e(),(0,o.Cn)(),e),cn={class:"error-box"},dn=un((()=>(0,o._)("span",{class:"error-code"},"404",-1))),mn=un((()=>(0,o._)("span",{class:"error-info"},"페이지를 찾을 수 없습니다",-1))),pn=un((()=>(0,o._)("span",{class:"error-text"},"요청을 다시 확인해 주세요",-1))),vn=[dn,mn,pn];function gn(e,a){return(0,o.wg)(),(0,o.iD)("div",cn,vn)}const fn={},_n=(0,l.Z)(fn,[["render",gn],["__scopeId","data-v-1dd7d299"]]);var wn=_n;const yn=e=>((0,o.dD)("data-v-7264d6d9"),e=e(),(0,o.Cn)(),e),hn={class:"error-box"},bn=yn((()=>(0,o._)("span",null,"500",-1))),kn=yn((()=>(0,o._)("span",null,"서버에 문제가 발생했습니다",-1))),xn=yn((()=>(0,o._)("span",null,"나중에 다시 시도해 주세요",-1))),Cn=[bn,kn,xn];function Sn(e,a){return(0,o.wg)(),(0,o.iD)("div",hn,Cn)}const In={},Nn=(0,l.Z)(In,[["render",Sn],["__scopeId","data-v-7264d6d9"]]);var Dn=Nn;const Un=e=>((0,o.dD)("data-v-14804ff0"),e=e(),(0,o.Cn)(),e),Mn={id:"error-page-box"},En=Un((()=>(0,o._)("canvas",{class:"orb-canvas"},null,-1))),Hn={class:"overlay error-area"},On={id:"error-state-box"},qn=Un((()=>(0,o._)("img",{src:ln,alt:"WeSeePlayLogo"},null,-1))),Tn={key:0},Rn={key:1};var Ln={__name:"ErrorPage",setup(e){const a=(0,i.oR)(),t=a.getters.isLoggedin,s=(0,p.yj)(),n=s.params.errorname,r=function(){id.push({name:"startpage"})},l=t?"메인 페이지":"시작 페이지";let u=(0,x.iH)(""),c=(0,x.iH)("");return"404"===n?u.value=!0:"500"===n&&(c.value=!0),(e,a)=>((0,o.wg)(),(0,o.iD)("div",Mn,[En,(0,o._)("div",Hn,[(0,o._)("div",On,[qn,(0,x.SU)(u)?((0,o.wg)(),(0,o.iD)("div",Tn,[(0,o.Wm)(wn)])):(0,o.kq)("",!0),(0,x.SU)(c)?((0,o.wg)(),(0,o.iD)("div",Rn,[(0,o.Wm)(Dn)])):(0,o.kq)("",!0),(0,o._)("button",{class:"overlay__btn overlay__btn--transparent StartPageLink",onClick:r},(0,f.zw)((0,x.SU)(l))+"로 이동 ",1)])])]))}};const Pn=(0,l.Z)(Ln,[["__scopeId","data-v-14804ff0"]]);var jn=Pn,Vn=(t(1912),t(2785),{__name:"OvVideo",props:{streamManager:Object},setup(e){const a=e,t=(0,x.iH)(null);return(0,o.bv)((()=>{console.log("Ovvideo this is",a.streamManager),a.streamManager.addVideoElement(t.value)})),(0,o.m0)((()=>{})),(e,a)=>((0,o.wg)(),(0,o.iD)("video",{id:"uervido",ref_key:"root",ref:t,autoplay:""},null,512))}});const An=(0,l.Z)(Vn,[["__scopeId","data-v-15cabdfa"]]);var Wn=An;const $n=e=>((0,o.dD)("data-v-7e989e6a"),e=e(),(0,o.Cn)(),e),Bn={class:"padding-area"},Gn=$n((()=>(0,o._)("br",null,null,-1))),Zn={key:0},zn={key:1},Kn={key:2,class:"is-ask"};var Yn={__name:"VideoItem",props:{user:{type:Object,required:!0},gameIdx:{type:Number},userEmail:{type:String},suggestion:{type:String},coolDown:{type:Number},videoUserEmail:{type:String}},setup(e){const a=e,t=cd.getters.me.userEmail;let n={...a.user};console.log("%c Main Video ","color: black;background: brown",n),n=JSON.parse(n.stream.connection.data);const i=n.userNickname,r=(0,x.iH)(!1);return a.user&&(a.user.on("publisherStartSpeaking",(()=>{r.value=!0})),a.user.on("publisherStopSpeaking",(()=>{r.value=!1}))),(a,n)=>((0,o.wg)(),(0,o.iD)("div",Bn,[(0,o._)("div",{class:(0,f.C_)(["radius-area row",[r.value?"talk-now-box":"non-talk-box"]])},[(0,o._)("div",{class:(0,f.C_)([r.value?"talk-now":"non-talk"])},[(0,o.Uk)((0,f.zw)((0,x.SU)(i))+" ",1),Gn,(0,x.SU)(t)===e.videoUserEmail?((0,o.wg)(),(0,o.iD)("span",Zn,"이름: ???")):((0,o.wg)(),(0,o.iD)("span",zn,"이름: "+(0,f.zw)(e.suggestion),1))],2),(0,o.Wm)(Wn,{class:"ov-area","stream-manager":e.user},null,8,["stream-manager"]),(0,x.SU)(t)===e.userEmail&&(0,x.SU)(t)===e.videoUserEmail&&e.coolDown<=0?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"input-my-name",onClick:n[0]||(n[0]=(0,s.iM)((e=>a.$emit("answer")),["stop"]))}," Guess my name ")):(0,o.kq)("",!0),(0,x.SU)(t)===e.userEmail&&(0,x.SU)(t)===e.videoUserEmail?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"next-btn",onClick:n[1]||(n[1]=(0,s.iM)((e=>a.$emit("next")),["stop"]))}," NEXT ")):(0,o.kq)("",!0),e.userEmail===e.videoUserEmail?((0,o.wg)(),(0,o.iD)("div",Kn,"Asking")):(0,o.kq)("",!0)],2)]))}};const Jn=(0,l.Z)(Yn,[["__scopeId","data-v-7e989e6a"]]);var Fn=Jn;const Qn=e=>((0,o.dD)("data-v-74eb8b1e"),e=e(),(0,o.Cn)(),e),Xn={class:"modal-window"},ei={class:"top"},ai={id:"keyword-input-box"},ti=Qn((()=>(0,o._)("h6",null,"당신의 제시어를 맞혀주세요!",-1))),si=Qn((()=>(0,o._)("p",null,"주어진 답변을 가지고 제시어를 유추해 보세요",-1)));function oi(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)("div",{class:"modal modal-overlay",onMousedown:a[3]||(a[3]=(0,s.iM)((a=>e.$emit("close")),["self"]))},[(0,o._)("div",Xn,[(0,o._)("div",ei,[(0,o._)("button",{onClick:a[0]||(a[0]=a=>e.$emit("close"))},"X")]),(0,o._)("div",ai,[ti,si,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>n.inputKeyword=e),class:"keyword-input",type:"text"},null,512),[[s.nr,n.inputKeyword]]),(0,o._)("button",{onClick:a[2]||(a[2]=(...e)=>n.submitKeyword&&n.submitKeyword(...e)),class:"overlay__btn",style:{width:"100%"}}," 제출하기 ")])])],32)}var ni={name:"CallmynameInputModal",emits:["close","gameIdxUp"],props:["suggestion","gameIdx","session"],setup(e,a){const t=(0,x.iH)(""),s=function(){console.log(t.value),a.emit("close"),e.suggestion==t.value?e.session.signal({data:e.gameIdx,to:[],type:"callMynameChooseCorrect"}).then((()=>{console.log("callMynameChooseCorrect")})).catch((e=>{console.error(e)})):(e.session.signal({data:t.value,to:[],type:"callMynamechooseIncorrect"}).then((()=>{console.log("callMynamechooseIncorrect")})).catch((e=>{console.error(e)})),m().fire({icon:"error",title:"틀렸습니다!",showConfirmButton:!1,timer:1500}),a.emit("gameIdxUp"),e.session.signal({data:1,to:[],type:"Call my name, idx up"}).then((()=>{console.log("Call my name, idx up")})).catch((e=>{console.error(e)}))),t.value=""};return{inputKeyword:t,submitKeyword:s}}};const ii=(0,l.Z)(ni,[["render",oi],["__scopeId","data-v-74eb8b1e"]]);var ri=ii;const li={class:"row full-height justify-center items-center video-list-area"},ui={class:"row col-9 justify-center"};var ci={__name:"VideoList",props:{setting:{type:Object,required:!0},session:{type:Object,required:!0},gameIdx:{type:Number,required:!0},coolDown:{type:Number,required:!0}},setup(e){const a=e,t=(0,x.qj)({...a.setting}),s=(0,x.iH)(a.gameIdx),n=(0,x.iH)(0),i=(0,x.iH)(t.gameUserOrder.slice(0,3)),r=(0,x.iH)(t.gameUserOrder.slice(3)),l=(0,x.iH)(t.suggestion),u=(0,x.iH)(!1),c=(0,x.iH)(0);console.log(r),(0,o.m0)((()=>{s.value=a.gameIdx,console.log("tmpNum"),n.value=a.coolDown+c.value,console.log("tmpCoolDown",n.value)}));const d=function(){a.session.signal({data:1,to:[],type:"Call my name, idx up"}).then((()=>{console.log("Call my name, idx up")})).catch((e=>{console.error(e)}))};return(a,r)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",li,[(0,o._)("div",ui,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.value,((e,a)=>((0,o.wg)(),(0,o.j4)(Fn,{class:"col-6",key:a,user:e,gameIdx:s.value,onNext:d,onAnswer:r[0]||(r[0]=e=>u.value=!0),userEmail:t.userList[s.value],suggestion:l.value[a],videoUserEmail:t.userList[a],coolDown:n.value},null,8,["user","gameIdx","userEmail","suggestion","videoUserEmail","coolDown"])))),128))])]),u.value?((0,o.wg)(),(0,o.j4)(ri,{key:0,onClose:r[1]||(r[1]=e=>u.value=!1),onGameIdxUp:r[2]||(r[2]=e=>c.value+=6),suggestion:l.value[s.value],gameIdx:s.value,session:e.session},null,8,["suggestion","gameIdx","session"])):(0,o.kq)("",!0)],64))}};const di=ci;var mi=di,pi={__name:"OvVideo",props:{streamManager:Object},setup(e){const a=e,t=(0,x.iH)(null);return(0,o.bv)((()=>{console.log("Ovvideo this is",a.streamManager),a.streamManager.addVideoElement(t.value)})),(e,a)=>((0,o.wg)(),(0,o.iD)("video",{id:"uervido",ref_key:"root",ref:t,autoplay:""},null,512))}};const vi=(0,l.Z)(pi,[["__scopeId","data-v-5d05b152"]]);var gi=vi;const fi={class:"padding-area"};var _i={__name:"MainVideo",props:{user:{type:Object,required:!0},gameIdx:{type:Number},userEmail:{type:String}},setup(e){const a=e,t=cd.getters.me.userEmail;let s={...a.user};s=JSON.parse(s.stream.connection.data);const n=s.userNickname,i=(0,x.iH)(!1);return a.user&&(a.user.on("publisherStartSpeaking",(()=>{i.value=!0})),a.user.on("publisherStopSpeaking",(()=>{i.value=!1}))),(a,s)=>((0,o.wg)(),(0,o.iD)("div",fi,[(0,o._)("div",{class:(0,f.C_)(["radius-area row",[i.value?"talk-now-box":"non-talk-box"]])},[(0,o._)("div",{class:(0,f.C_)([i.value?"talk-now":"non-talk"])},(0,f.zw)((0,x.SU)(n)),3),(0,o.Wm)(gi,{class:"ov-area","stream-manager":e.user},null,8,["stream-manager"]),(0,x.SU)(t)===e.userEmail?((0,o.wg)(),(0,o.iD)("button",{key:0,onClick:s[0]||(s[0]=e=>a.$emit("next")),class:"next-btn"}," NEXT ")):(0,o.kq)("",!0)],2)]))}};const wi=(0,l.Z)(_i,[["__scopeId","data-v-8b4ed1dc"]]);var yi=wi;const hi={class:"padding-area"};var bi={__name:"VideoItem",props:{user:{type:Object,required:!0},userEmail:{type:String}},setup(e){const a=e;let t={...a.user};console.log("%c Main Video ","color: black;background: brown",t),t=JSON.parse(t.stream.connection.data);const s=(0,x.iH)(t.userNickname),n=(0,x.iH)(!1);return a.user&&(a.user.on("publisherStartSpeaking",(()=>{n.value=!0})),a.user.on("publisherStopSpeaking",(()=>{n.value=!1}))),(0,o.m0)((()=>{a.user;let e={...a.user};console.log("%c Main Video ","color: black;background: brown",e),e=JSON.parse(e.stream.connection.data),s.value=e.userNickname})),(a,t)=>((0,o.wg)(),(0,o.iD)("div",hi,[(0,o._)("div",{class:(0,f.C_)(["radius-area row",[n.value?"talk-now-box":"non-talk-box"]])},[(0,o._)("div",{class:(0,f.C_)([n.value?"talk-now":"non-talk"])},(0,f.zw)(s.value),3),(0,o.Wm)(gi,{class:"ov-area","stream-manager":e.user},null,8,["stream-manager"])],2)]))}};const ki=(0,l.Z)(bi,[["__scopeId","data-v-1d4a9ec7"]]);var xi=ki;const Ci={class:"row justify-center items-center q-mt-xl"};var Si={__name:"AllVideo",props:{isSide:{type:Boolean,required:!0},gameUserOrder:{type:Array,required:!0},emailData:{type:Array,required:!0}},setup(e){const a=e,t=(0,x.iH)([]),s=(0,x.iH)(0),n=(0,x.iH)("col-6");return s.value<6?n.value="col-6":n.value="col-4",(0,o.m0)((()=>{t.value=[],t.value=[...a.gameUserOrder],s.value=t.value.length,2===s.value?n.value="col-7":s.value<7?n.value="col-5":s.value>9&&!1===a.isSide?n.value="col-3":n.value="col-4"})),(a,s)=>((0,o.wg)(),(0,o.iD)("div",Ci,[(0,o._)("div",{class:(0,f.C_)(["row justify-center",e.isSide?"col-12":"col-10"])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.value,((a,t)=>((0,o.wg)(),(0,o.j4)(xi,{key:t,user:a,userEmail:e.emailData[t],class:(0,f.C_)(["self-center q-mb-md",n.value])},null,8,["user","userEmail","class"])))),128))],2)]))}};const Ii=(0,l.Z)(Si,[["__scopeId","data-v-34711a07"]]);var Ni=Ii;const Di=e=>((0,o.dD)("data-v-4ee669fc"),e=e(),(0,o.Cn)(),e),Ui={class:"modal modal-overlay"},Mi={class:"modal-window"},Ei=Di((()=>(0,o._)("h6",null,"의심되는 참가자를 지목해주세요!",-1))),Hi={id:"user-vote-box"},Oi=["onClick","id"],qi={class:"nickname-text"},Ti={class:"order-text"},Ri={class:"user-item"},Li=Di((()=>(0,o._)("div",{class:"round-time-bar","data-style":"smooth",style:{"--duration":"10"}},[(0,o._)("div")],-1)));function Pi(e,a,t,s,n,i){return(0,o.wg)(),(0,o.iD)("div",Ui,[(0,o._)("div",Mi,[Ei,(0,o._)("div",Hi,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.userInfo,((e,a)=>((0,o.wg)(),(0,o.iD)("button",{key:a,class:"user-item"},[(0,o._)("div",{class:"name-box overlay__btn",onClick:t=>s.check(e,a),id:e},[(0,o._)("span",qi,(0,f.zw)(e),1),(0,o._)("span",Ti,"발표자 "+(0,f.zw)(a+1),1)],8,Oi)])))),128))]),(0,o._)("div",Ri,[(0,o._)("button",{class:"overlay__btn skip-btn",onClick:a[0]||(a[0]=(...e)=>s.clearCheck&&s.clearCheck(...e))},"skip")]),Li])])}var ji={name:"VoteModal",emits:["close"],props:["userList","nicknameList"],setup(e,a){const t=(0,x.iH)("");let s=[...e.nicknameList];const o=function(a,s){const o=document.querySelectorAll(".name-box"),n=document.querySelector(".skip-btn");o.forEach((o=>{o.classList.remove("active"),o.id===a&&(o.classList.add("active"),t.value=e.userList[s])})),n.classList.remove("active")},n=function(){const e=document.querySelectorAll(".name-box"),a=document.querySelector(".skip-btn");e.forEach((e=>{e.classList.remove("active")})),t.value="skip",a.classList.add("active")};return setTimeout((function(){a.emit("vote",t.value)}),1e4),{userInfo:s,check:o,clearCheck:n}}};const Vi=(0,l.Z)(ji,[["render",Pi],["__scopeId","data-v-4ee669fc"]]);var Ai=Vi;const Wi=e=>((0,o.dD)("data-v-653dc84c"),e=e(),(0,o.Cn)(),e),$i={class:"modal modal-overlay"},Bi={class:"modal-window"},Gi={id:"keyword-input-box"},Zi=Wi((()=>(0,o._)("h6",null,"당신은 라이어로 지목되었습니다!",-1))),zi=Wi((()=>(0,o._)("p",null,"승리하고 싶다면 주어진 제시어를 맞혀주세요",-1))),Ki=Wi((()=>(0,o._)("div",{class:"round-time-bar","data-style":"smooth",style:{"--duration":"30"}},[(0,o._)("div")],-1)));function Yi(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)("div",$i,[(0,o._)("div",Bi,[(0,o._)("div",Gi,[Zi,zi,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>n.inputKeyword=e),class:"keyword-input",type:"text"},null,512),[[s.nr,n.inputKeyword]]),(0,o._)("button",{onClick:a[1]||(a[1]=(...e)=>n.submitKeyword&&n.submitKeyword(...e)),class:"overlay__btn",style:{width:"100%"}}," 제출하기 ")]),Ki])])}var Ji={name:"LiarInputModal",emits:["close"],props:[],setup(e,a){setTimeout((function(){a.emit("answer")}),15e3);const t=(0,x.iH)(""),s=function(){a.emit("answer",t.value)};return{inputKeyword:t,submitKeyword:s}}};const Fi=(0,l.Z)(Ji,[["render",Yi],["__scopeId","data-v-653dc84c"]]);var Qi=Fi;const Xi={class:"row video-list-area justify-center"};var er={__name:"VideoList",props:{isSide:{type:Boolean,required:!0},roomId:{type:String,required:!0},setting:{type:Object,required:!0},session:{type:Object,required:!0},isLiar:{type:Boolean},tmpNum:{type:Number},tmpvote:{type:Boolean},tmpliarInputModal:{type:Boolean},tmpUserList:{type:Array},tmpGameResultModal:{type:Boolean},tmpGameResult:{type:String},liargameNicknameList:{type:Array}},setup(e){const a=e,t=(0,x.qj)({...a.setting}),s=(0,x.iH)(!1),n=(0,x.iH)(!1),i=(0,x.iH)(!1),r=(0,x.iH)(""),l=(0,x.iH)([]);(0,o.m0)((()=>{console.log(t.gameIdx),n.value||(s.value=a.tmpvote),n.value=a.tmpliarInputModal,i.value=a.tmpGameResultModal,r.value=a.tmpGameResult,l.value=a.liargameNicknameList}));const u=function(){console.log(t.gameUserList),a.session.signal({data:1,to:[],type:"gameIdxUp"}).then((()=>{console.log("gameIdxUp")})).catch((e=>{console.error(e)}))},c=function(e){s.value=!1,a.session.signal({data:e,to:[],type:"heIsLiar"}).then((()=>{console.log("heIsLiar",e)})).catch((e=>{console.error(e)}))},d=function(e){n.value=!1;let s=!0;e==t.suggestion&&(s=!1),console.log(s),a.session.signal({data:`${s},${e}`,to:[],type:"liarInput"}).then((()=>{console.log("liarInput")})).catch((e=>{console.error(e)})),n.value=!1};return(a,i)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",Xi,[(0,o._)("div",{class:(0,f.C_)(["row",e.isSide?"col-5":"col-4"])},[0==e.tmpNum?((0,o.wg)(),(0,o.j4)(yi,{key:0,class:"self-center col-12",user:t.gameUserOrder[e.tmpNum],gameIdx:e.tmpNum,onNext:u,userEmail:t.gameUserList.value[e.tmpNum]},null,8,["user","gameIdx","userEmail"])):(0,o.kq)("",!0),1==e.tmpNum?((0,o.wg)(),(0,o.j4)(yi,{key:1,class:"self-center col-12",user:t.gameUserOrder[e.tmpNum],gameIdx:e.tmpNum,onNext:u,userEmail:t.gameUserList.value[e.tmpNum]},null,8,["user","gameIdx","userEmail"])):(0,o.kq)("",!0),2==e.tmpNum?((0,o.wg)(),(0,o.j4)(yi,{key:2,class:"self-center col-12",user:t.gameUserOrder[e.tmpNum],gameIdx:e.tmpNum,onNext:u,userEmail:t.gameUserList.value[e.tmpNum]},null,8,["user","gameIdx","userEmail"])):(0,o.kq)("",!0),3==e.tmpNum?((0,o.wg)(),(0,o.j4)(yi,{key:3,class:"self-center col-12",user:t.gameUserOrder[e.tmpNum],gameIdx:e.tmpNum,onNext:u,userEmail:t.gameUserList.value[e.tmpNum]},null,8,["user","gameIdx","userEmail"])):(0,o.kq)("",!0),4==e.tmpNum?((0,o.wg)(),(0,o.j4)(yi,{key:4,class:"self-center col-12",user:t.gameUserOrder[e.tmpNum],gameIdx:e.tmpNum,onNext:u,userEmail:t.gameUserList.value[e.tmpNum]},null,8,["user","gameIdx","userEmail"])):(0,o.kq)("",!0),5==e.tmpNum?((0,o.wg)(),(0,o.j4)(yi,{key:5,class:"self-center col-12",user:t.gameUserOrder[e.tmpNum],gameIdx:e.tmpNum,onNext:u,userEmail:t.gameUserList.value[e.tmpNum]},null,8,["user","gameIdx","userEmail"])):(0,o.kq)("",!0),6==e.tmpNum?((0,o.wg)(),(0,o.j4)(yi,{key:6,class:"self-center col-12",user:t.gameUserOrder[e.tmpNum],gameIdx:e.tmpNum,onNext:u,userEmail:t.gameUserList.value[e.tmpNum]},null,8,["user","gameIdx","userEmail"])):(0,o.kq)("",!0),7==e.tmpNum?((0,o.wg)(),(0,o.j4)(yi,{key:7,class:"self-center col-12",user:t.gameUserOrder[e.tmpNum],gameIdx:e.tmpNum,onNext:u,userEmail:t.gameUserList.value[e.tmpNum]},null,8,["user","gameIdx","userEmail"])):(0,o.kq)("",!0),8==e.tmpNum?((0,o.wg)(),(0,o.j4)(yi,{key:8,class:"self-center col-12",user:t.gameUserOrder[e.tmpNum],gameIdx:e.tmpNum,onNext:u,userEmail:t.gameUserList.value[e.tmpNum]},null,8,["user","gameIdx","userEmail"])):(0,o.kq)("",!0),9==e.tmpNum?((0,o.wg)(),(0,o.j4)(yi,{key:9,class:"self-center col-12",user:t.gameUserOrder[e.tmpNum],gameIdx:e.tmpNum,onNext:u,userEmail:t.gameUserList.value[e.tmpNum]},null,8,["user","gameIdx","userEmail"])):(0,o.kq)("",!0),10==e.tmpNum?((0,o.wg)(),(0,o.j4)(yi,{key:10,class:"self-center col-12",user:t.gameUserOrder[e.tmpNum],gameIdx:e.tmpNum,onNext:u,userEmail:t.gameUserList.value[e.tmpNum]},null,8,["user","gameIdx","userEmail"])):(0,o.kq)("",!0),11==e.tmpNum?((0,o.wg)(),(0,o.j4)(yi,{key:11,class:"self-center col-12",user:t.gameUserOrder[e.tmpNum],gameIdx:e.tmpNum,onNext:u,userEmail:t.gameUserList.value[e.tmpNum]},null,8,["user","gameIdx","userEmail"])):(0,o.kq)("",!0)],2),(0,o.Wm)(Ni,{class:(0,f.C_)(["self-center",e.isSide?"col-7":"col-8"]),gameUserOrder:t.gameUserOrder,isSide:e.isSide,emailData:t.gameUserList.value},null,8,["class","gameUserOrder","isSide","emailData"])]),s.value?((0,o.wg)(),(0,o.j4)(Ai,{key:0,userList:e.tmpUserList,nicknameList:l.value,onVote:c},null,8,["userList","nicknameList"])):(0,o.kq)("",!0),n.value?((0,o.wg)(),(0,o.j4)(Qi,{key:1,onAnswer:d})):(0,o.kq)("",!0)],64))}};const ar=(0,l.Z)(er,[["__scopeId","data-v-0483684e"]]);var tr=ar,sr={__name:"OvVideo",props:{streamManager:Object},setup(e){const a=e,t=(0,x.iH)(null);return(0,o.bv)((()=>{console.log("Ovvideo this is",a.streamManager),a.streamManager.addVideoElement(t.value)})),(e,a)=>((0,o.wg)(),(0,o.iD)("video",{id:"uervido",ref_key:"root",ref:t,autoplay:""},null,512))}};const or=(0,l.Z)(sr,[["__scopeId","data-v-5bbf2a75"]]);var nr=or;const ir={class:"padding-area"};var rr={__name:"VideoItem",props:{user:{type:Object,required:!0}},setup(e){const a=e;let t={...a.user};console.log("%c Main Video ","color: black;background: brown",t),t=JSON.parse(t.stream.connection.data);const s=(0,x.iH)(t.userNickname),n=(0,x.iH)(!1);return a.user&&(a.user.on("publisherStartSpeaking",(()=>{n.value=!0})),a.user.on("publisherStopSpeaking",(()=>{n.value=!1}))),(0,o.m0)((()=>{a.user;let e={...a.user};e=JSON.parse(e.stream.connection.data),s.value=e.userNickname})),(a,t)=>((0,o.wg)(),(0,o.iD)("div",ir,[(0,o._)("div",{class:(0,f.C_)(["radius-area row",[n.value?"talk-now-box":"non-talk-box"]])},[(0,o._)("div",{class:(0,f.C_)([n.value?"talk-now":"non-talk"])},(0,f.zw)(s.value),3),(0,o.Wm)(nr,{class:"ov-area","stream-manager":e.user},null,8,["stream-manager"])],2)]))}};const lr=(0,l.Z)(rr,[["__scopeId","data-v-0a8c9acc"]]);var ur=lr;const cr={class:"row full-height justify-center items-center video-list-area"};var dr={__name:"VideoList",props:{isSide:{type:Boolean,required:!0},publisher:{type:Object},subscribers:{type:Array}},setup(e){const a=e,t=(0,x.iH)([]),s=(0,x.iH)(0),n=(0,x.iH)("col-6"),i=(0,x.iH)(!0);return(0,o.m0)((()=>{t.value=[],a.publisher&&(console.log(a.subscribers.length),t.value.push(a.publisher),t.value.push(...a.subscribers)),s.value=t.value.length,1==s.value?n.value="col-12":s.value>6?n.value="col-3":s.value>4?n.value="col-4":n.value="col-6",s.value<=4?i.value=!0:i.value=!1})),(e,a)=>((0,o.wg)(),(0,o.iD)("div",cr,[(0,o._)("div",{class:(0,f.C_)(["row",[i.value?"col-9":"col-12"]])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.value,((e,a)=>((0,o.wg)(),(0,o.j4)(ur,{key:a,user:e,class:(0,f.C_)([n.value,"self-center q-mb-xs"])},null,8,["user","class"])))),128))],2)]))}};const mr=dr;var pr=mr;const vr=e=>((0,o.dD)("data-v-27b6813c"),e=e(),(0,o.Cn)(),e),gr={class:"modal-window"},fr={class:"top"},_r=vr((()=>(0,o._)("h6",null,"주제 선택",-1))),wr={id:"category-box"},yr={class:"category-item"},hr=["value"];function br(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)("div",{class:"modal modal-overlay",onMousedown:a[3]||(a[3]=(0,s.iM)((a=>e.$emit("close")),["self"]))},[(0,o._)("div",gr,[(0,o._)("div",fr,[(0,o._)("button",{onClick:a[0]||(a[0]=a=>e.$emit("close")),class:"close-button"},"X")]),_r,(0,o._)("div",wr,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.categoryList,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("div",yr,[(0,o._)("button",{onClick:a[1]||(a[1]=e=>n.selectCategory(e)),class:"overlay__btn category-btn",value:t},(0,f.zw)(e),9,hr)])])))),128))]),(0,o._)("button",{onClick:a[2]||(a[2]=(...e)=>n.submitCategory&&n.submitCategory(...e)),class:"overlay__btn overlay__btn--transparent start-btn"}," 게임시작! ")])],32)}var kr={name:"CategoryModal",emits:["close"],props:[],setup(e,a){const t=(0,x.iH)(0),s=["음식","위인","동물","직업","영화","스포츠"],o=function(e){const a=document.querySelectorAll(".category-btn");a.forEach((e=>{e.classList.remove("active")})),e.target.classList.add("active"),t.value=parseInt(e.target.value)+1},n=async function(){if(console.log("dkffkfkdsfsdkjfldsjflkdsjflkjdsflk",t.value),0!=t.value){const e=await ha.game.getliarsuggestion(t.value),o={category:s[t.value-1],suggestion:e.data.suggestion};a.emit("close"),a.emit("liarGameStart",o)}else m().fire({icon:"error",text:"주제를 선택하지 않았습니다!"})};return{categoryList:s,selectCategory:o,submitCategory:n}}};const xr=(0,l.Z)(kr,[["render",br],["__scopeId","data-v-27b6813c"]]);var Cr=xr;const Sr={class:"modal modal-overlay"},Ir={class:"modal-window"},Nr={class:"winner"},Dr=(0,o.Uk)(" 여러분의 선택, "),Ur=(0,o._)("div",{style:{"font-size":"1.5rem"}},"그는 라이어가 맞았습니다!",-1),Mr=(0,o._)("span",{style:{"margin-top":"1rem","font-size":"1.1rem"}},"현재 라이어가 제시어를 입력 중입니다...",-1),Er=(0,o._)("div",{class:"waiting-icon"},[(0,o._)("i",{class:"fa-solid fa-face-grin-stars"})],-1),Hr=(0,o._)("div",{class:"round-time-bar","data-style":"smooth",style:{"--duration":"30"}},[(0,o._)("div")],-1);function Or(e,a,t,s,n,i){return(0,o.wg)(),(0,o.iD)("div",Sr,[(0,o._)("div",Ir,[(0,o._)("div",null,[(0,o._)("div",Nr,[Dr,(0,o._)("span",null,(0,f.zw)(s.liarNickname),1)]),Ur]),Mr,Er,Hr])])}var qr={name:"LiarWaitingModal",emits:["close"],props:["liar","liarStream"],setup(e,a){setTimeout((function(){a.emit("close")}),3e4);const t=(0,x.iH)("");return(0,o.m0)((()=>{t.value=JSON.parse(e.liarStream.stream.connection.data).userNickname})),{liarNickname:t}}};const Tr=(0,l.Z)(qr,[["render",Or]]);var Rr=Tr;const Lr=e=>((0,o.dD)("data-v-54d6debd"),e=e(),(0,o.Cn)(),e),Pr={class:"modal modal-overlay"},jr={key:0,class:"confetti"},Vr=(0,o.uE)('<div class="confetti-piece" data-v-54d6debd></div><div class="confetti-piece" data-v-54d6debd></div><div class="confetti-piece" data-v-54d6debd></div><div class="confetti-piece" data-v-54d6debd></div><div class="confetti-piece" data-v-54d6debd></div><div class="confetti-piece" data-v-54d6debd></div><div class="confetti-piece" data-v-54d6debd></div><div class="confetti-piece" data-v-54d6debd></div><div class="confetti-piece" data-v-54d6debd></div><div class="confetti-piece" data-v-54d6debd></div><div class="confetti-piece" data-v-54d6debd></div><div class="confetti-piece" data-v-54d6debd></div><div class="confetti-piece" data-v-54d6debd></div>',13),Ar=[Vr],Wr={class:"modal-window"},$r={class:"top"},Br={key:0,class:"count-box"},Gr=Lr((()=>(0,o._)("h5",null,"결과 발표",-1))),Zr={class:"timer",for:"timer"},zr={class:"timer-num"},Kr={key:1,class:"winner-box"},Yr=Lr((()=>(0,o._)("div",{class:"winner"},[(0,o._)("span",null,"라이어"),(0,o.Uk)(" 승리!")],-1))),Jr={class:"padding-area"},Fr={key:2},Qr=Lr((()=>(0,o._)("div",{class:"winner"},[(0,o._)("span",null,"참가자"),(0,o.Uk)(" 승리!")],-1))),Xr={class:"word"},el=(0,o.Uk)(" 제시어: "),al=Lr((()=>(0,o._)("br",null,null,-1))),tl=Lr((()=>(0,o._)("p",null,[(0,o.Uk)("거짓말쟁이를 찾아냈어요!"),(0,o._)("i",{class:"fa-solid fa-hand-peace"})],-1)));function sl(e,a,t,s,n,i){const r=(0,o.up)("ov-video");return(0,o.wg)(),(0,o.iD)("div",Pr,[s.waiting?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",jr,Ar)),(0,o._)("div",Wr,[(0,o._)("div",$r,[(0,o._)("button",{onClick:a[0]||(a[0]=a=>e.$emit("close"))},"X")]),s.waiting?((0,o.wg)(),(0,o.iD)("div",Br,[Gr,(0,o._)("div",Zr,[(0,o._)("span",zr,(0,f.zw)(s.time),1)])])):(0,o.kq)("",!0),s.waiting||s.liarWin?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Kr,[Yr,(0,o._)("div",Jr,[(0,o._)("div",{class:(0,f.C_)(["radius-area row",e.non-e.talk-e.box])},[(0,o.Wm)(r,{class:"ov-area","stream-manager":t.liarStream},null,8,["stream-manager"])],2)]),(0,o._)("p",null,"최고의 거짓말쟁이 "+(0,f.zw)(s.liarNickname)+"!",1)])),!s.waiting&&s.liarWin?((0,o.wg)(),(0,o.iD)("div",Fr,[Qr,(0,o._)("div",Xr,[el,(0,o._)("span",null,(0,f.zw)(s.word),1),al,(0,o.Uk)(" 라이어가 제출한 제시어: "+(0,f.zw)(s.liarWord)+" ",1),tl])])):(0,o.kq)("",!0)])])}var ol={name:"LiarResultModal",props:["whoWin","gameSet","suggestion","liarInput","liar","liarStream"],components:{OvVideo:Wn},setup(e){const a=(0,x.iH)(3),t=(0,x.iH)(!0),s=(0,x.iH)(e.whoWin),n=(0,x.iH)(e.suggestion),i=(0,x.iH)(e.liar),r=(0,x.iH)(e.liarInput);return(0,o.m0)((()=>{r.value=e.liarInput,n.value=e.suggestion,i.value=JSON.parse(e.liarStream.stream.connection.data).userNickname})),setInterval((async function(){if(a.value>0){a.value-=1;const e=document.querySelector(".timer");let t=["","#3c358a","#695eef"];e.style.background=`${t[a.value]}`}if(0==a.value)return t.value=!1,void(n.value===r.value&&(s.value=!1))}),1e3),{time:a,waiting:t,liarWin:s,word:n,liarNickname:i,liarWord:r}}};const nl=(0,l.Z)(ol,[["render",sl],["__scopeId","data-v-54d6debd"]]);var il=nl;const rl=e=>((0,o.dD)("data-v-0dfc1263"),e=e(),(0,o.Cn)(),e),ll={class:"modal modal-overlay"},ul={key:0,class:"confetti"},cl=(0,o.uE)('<div class="confetti-piece" data-v-0dfc1263></div><div class="confetti-piece" data-v-0dfc1263></div><div class="confetti-piece" data-v-0dfc1263></div><div class="confetti-piece" data-v-0dfc1263></div><div class="confetti-piece" data-v-0dfc1263></div><div class="confetti-piece" data-v-0dfc1263></div><div class="confetti-piece" data-v-0dfc1263></div><div class="confetti-piece" data-v-0dfc1263></div><div class="confetti-piece" data-v-0dfc1263></div><div class="confetti-piece" data-v-0dfc1263></div><div class="confetti-piece" data-v-0dfc1263></div><div class="confetti-piece" data-v-0dfc1263></div><div class="confetti-piece" data-v-0dfc1263></div>',13),dl=[cl],ml={key:1,class:"face-icon",style:{color:"#ff5194"}},pl=rl((()=>(0,o._)("i",{class:"fa-solid fa-face-laugh-squint"},null,-1))),vl=[pl],gl={key:2,class:"face-icon",style:{color:"#625eef"}},fl=rl((()=>(0,o._)("i",{class:"fa-solid fa-face-sad-cry"},null,-1))),_l=[fl],wl={class:"modal-window"},yl={class:"top"},hl={class:"winner-box"},bl={class:"winner"},kl=(0,o.Uk)(" 승리! "),xl={class:"padding-area"},Cl={key:0,class:"word"},Sl=rl((()=>(0,o._)("p",null,"최고의 눈치를 가졌군요!",-1))),Il=[Sl],Nl={key:1,class:"word"},Dl=(0,o.Uk)(" 당신의 제시어: "),Ul=rl((()=>(0,o._)("p",{style:{"margin-top":"0.5rem"}},"안타까운 패배군요!",-1)));function Ml(e,a,t,s,n,i){const r=(0,o.up)("ov-video");return(0,o.wg)(),(0,o.iD)("div",ll,[s.win?((0,o.wg)(),(0,o.iD)("div",ul,dl)):(0,o.kq)("",!0),s.win?((0,o.wg)(),(0,o.iD)("div",ml,vl)):((0,o.wg)(),(0,o.iD)("div",gl,_l)),(0,o._)("div",wl,[(0,o._)("div",yl,[(0,o._)("button",{onClick:a[0]||(a[0]=a=>e.$emit("close"))},"X")]),(0,o._)("div",hl,[(0,o._)("div",bl,[(0,o._)("span",null,(0,f.zw)(s.winnerNickname),1),kl]),(0,o._)("div",xl,[(0,o._)("div",{class:(0,f.C_)(["radius-area row",e.non-e.talk-e.box])},[(0,o.Wm)(r,{class:"ov-area","stream-manager":t.winnerVideo},null,8,["stream-manager"])],2)]),2===s.win?((0,o.wg)(),(0,o.iD)("div",Cl,Il)):3===s.win?((0,o.wg)(),(0,o.iD)("div",Nl,[(0,o._)("div",null,[Dl,(0,o._)("span",null,(0,f.zw)(s.word),1)]),Ul])):(0,o.kq)("",!0)])])])}var El={name:"CallmynameResultModal",props:["winner","isWin","suggestion","winnerVideo","myEmail"],components:{OvVideo:Wn},setup(e){const a=(0,x.iH)(1),t=(0,x.iH)(e.winner),s=(0,x.iH)(e.suggestion);return(0,o.m0)((()=>{a.value=e.isWin,t.value=JSON.parse(e.winnerVideo.stream.connection.data).userNickname})),console.log(e.winner,e.isWin,e.suggestion,e.winnerVideo),{win:a,winnerNickname:t,word:s}}};const Hl=(0,l.Z)(El,[["render",Ml],["__scopeId","data-v-0dfc1263"]]);var Ol=Hl,ql=t(3129),Tl={__name:"VideoArea",props:{isLiarGameStart:{type:Number},isCallMyStart:{type:Number},isQuit:{type:Number},isSide:{type:Boolean,required:!0},roomId:{type:String},isVideoOpen:{type:Boolean,required:!0},isAudeoOpen:{type:Boolean,required:!0},chatData:{type:Object}},emits:["tbs","tbl","heygettopbar","returnLiar"],setup(e,{emit:a}){const t=e;We().defaults.headers.post["Content-Type"]="application/json",We().defaults.headers.post["Access-Control-Allow-Origin"]="*";const s=(0,i.oR)(),n=(0,x.iH)(1),r=(0,p.tv)(),l=function(){D.value=[],k.value="",U=(0,x.qj)({gameIdx:0,isGameNow:0,suggestion:"",maxRound:0,liar:"",passedTurn:0,passedRound:0,gameUserList:[],gameUserOrder:[],liarInput:"",liarInputModal:!1,isVoteNow:!1,gameResult:!1,gameResultModal:!1,votingProcess:{},skipNum:0,voteNum:0})},u=(0,x.iH)(0),c=(0,x.iH)(3),d=(0,x.iH)(""),v=(0,x.iH)(""),g=(0,x.iH)(),_=(0,x.iH)(1);let w=(0,x.qj)({isGameNow:0,suggestion:[],maxRound:0,targetPlayer:[],nontargetPlayer:[],passedTurn:0,passedRound:0,gameUserOrder:[],gameResultModal:!1,userList:[]});const y=function(){u.value=0,c.value=3,d.value="",v.value="",_.value=1,w=(0,x.qj)({isGameNow:0,suggestion:[],maxRound:0,targetPlayer:[],nontargetPlayer:[],passedTurn:0,passedRound:0,gameUserOrder:[],gameResultModal:!1,userList:[]})},h=async function(){c.value=3,u.value=0,w.userList=[],w.targetPlayer=[],w.nontargetPlayer=[],w.gameUserOrder=[],L.subscribers.forEach((function(e){w.userList.push(JSON.parse(e.stream.connection.data).clientData)})),w.userList.push(L.myUserName),w.maxRound=5;const e=await ha.game.getcallmyname();w.suggestion=e.data.wordList,M(w.userList),L.session.signal({data:w.suggestion.join(),to:[],type:"callMyNamegameSuggestion"}).then((()=>{console.log("callMyNamegameSuggestion")})).catch((e=>{console.error(e)})),L.session.signal({data:w.userList.join(),to:[],type:"callMyNamegameOrder"}).then((()=>{console.log("callMyNamegameOrder")})).catch((e=>{console.error(e)})),await ha.room.editRoom(L.mySessionId,{game:3}),L.session.signal({data:"3,"+String(w.maxRound),to:[],type:"callMyNamegameStart"}).then((()=>{console.log("callMyNamegame Start!")})).catch((e=>{console.error(e)}))},b=(0,x.iH)(!1),k=(0,x.iH)(""),C=(0,x.iH)(!1),S=(0,x.iH)(""),I=(0,x.iH)(""),N=(0,x.iH)(),D=(0,x.iH)([]);let U=(0,x.qj)({gameIdx:0,isGameNow:0,suggestion:"",maxRound:0,liar:"",passedTurn:0,passedRound:0,gameUserList:[],gameUserOrder:[],liarInput:"",liarInputModal:!1,isVoteNow:!1,gameResult:!1,gameResultModal:!1,votingProcess:{},skipNum:0,voteNum:0});function M(e){for(let a=e.length-1;a>0;a--){const t=Math.floor(Math.random()*(a+1)),s=e[a];e[a]=e[t],e[t]=s}}function E(e){const a=Math.floor(Math.random()*e.length);return e[a]}const H=async function(e){await ha.room.editRoom(L.mySessionId,{game:2}),U.gameUserOrder=[],U.gameUserList.value=[],L.subscribers.forEach((function(e){U.gameUserList.value.push(JSON.parse(e.stream.connection.data).clientData)})),U.gameUserList.value.push(L.myUserName),U.maxRound=5,U.suggestion=e.suggestion;const a=e.category;I.value=e.suggestion,M(U.gameUserList.value),U.liar=E(U.gameUserList.value),L.session.signal({data:U.liar,to:[],type:"whoIsLiar"}).then((()=>{console.log("who is Liar")})).catch((e=>{console.error(e)})),L.session.signal({data:U.gameUserList.value.join(),to:[],type:"gameOrder"}).then((()=>{console.log("gameOrder")})).catch((e=>{console.error(e)}));const t={suggestion:U.suggestion,maxRound:U.maxRound,category:a};L.session.signal({data:JSON.stringify(t),to:[],type:"gameStart"}).then((()=>{console.log("game Start!")})).catch((e=>{console.error(e)}))},O=(0,x.iH)([]);(0,o.m0)((async()=>{2===t.isQuit&&L.session.signal({data:1,to:[],type:"quitgame"}).then((()=>{console.log("quitgame")})).catch((e=>{console.error(e)})),a("heygettopbar")})),(0,o.m0)((()=>{2===t.isLiarGameStart&&(L.subscribers.length>1?C.value=!0:m().fire({title:"Liar Game 인원수 부족!",text:"3인 이상 플레이 가능",icon:"info"}),a("returnLiar"))})),(0,o.m0)((()=>{2===t.isCallMyStart&&(L.subscribers.length>1?h():m().fire({title:"Call My Name 인원수 부족!",text:"3인 이상 플레이 가능",icon:"info"}),a("returnCallmyname"))}));const q=(0,x.iH)(10);for(let o=1;o<q.value;o++){const e=o,a=String.fromCharCode(o+64),t=!1;O.value.push({id:e,nickname:a,onVideo:t})}const T="https://i7a501.p.ssafy.io:8443",R="MY_SECRET",L=(0,x.qj)({OV:void 0,session:void 0,mainStreamManager:void 0,publisher:void 0,subscribers:[],mySessionId:t.roomId,myUserName:void 0,playersNum:1}),P=(0,x.iH)(cd.getters.getRoomInfo.hostEmail);(0,o.m0)((()=>{L.publisher&&L.publisher.publishVideo(t.isVideoOpen),L.publisher&&L.publisher.publishAudio(t.isAudeoOpen),P.value=cd.getters.getRoomInfo.hostEmail}));const j=async function(e){await ha.room.editRoom(L.mySessionId,{game:1}),G.value=e,B.value=!0,l(),n.value=1,cd.dispatch("editRoomGame",1)},V=(0,x.iH)(0),A=(0,x.iH)(!1),W=(0,x.iH)(!1),$=(0,x.iH)([]),B=(0,x.iH)(!1),G=(0,x.iH)(!1),Z=(0,x.iH)(!1),z=(0,x.iH)(""),K=()=>{L.mySessionId=t.roomId,L.OV=new ql.Dn,L.session=L.OV.initSession(),L.session.on("streamCreated",(({stream:e})=>{const a=L.session.subscribe(e);L.subscribers.push(a),L.playersNum+=1})),L.session.on("signal:this is chat",(e=>{const a=JSON.parse(e.data),{nickname:t,message:o}=a,n=(new Date).toLocaleTimeString().slice(0,-3),i={userNickname:t,content:o,sendTime:n,isDifferentNameAndTime:!0},r=s.getters.getChattings.at(-1);r&&r.userNickname===t&&r.sendTime===n&&(i.isDifferentNameAndTime=!1),s.dispatch("addMessage",i)})),L.session.on("streamDestroyed",(({stream:e})=>{const a=L.subscribers.indexOf(e.streamManager,0);a>=0&&L.subscribers.splice(a,1)})),L.session.on("exception",(({exception:e})=>{console.warn(e)})),L.session.on("signal:get out of this room!",(e=>{L.myUserName!==e.data&&setTimeout((()=>{let a=1;L.subscribers.forEach((function(t){e.data===JSON.parse(t.stream.connection.data).clientData&&(a=0)})),a&&r.push({name:"mainpage"})}),5e3)})),L.session.on("signal:callMyNamegameStart",(async e=>{let a=e.data.split(",");u.value=0,c.value=3,w.maxRound=parseInt(a[1]),n.value=parseInt(a[0]),cd.dispatch("editRoomGame",3)})),L.session.on("signal:callMyNamegameSuggestion",(e=>{w.suggestion=e.data.split(",")})),L.session.on("signal:callMyNamegameOrder",(async e=>{w.userList=e.data.split(","),w.targetPlayer=w.userList.slice(0,3),w.nontargetPlayer=w.userList.slice(3),w.gameUserOrder=[];for(let a=0;a<w.userList.length;a++){let e=0;L.subscribers.forEach((function(t){w.targetPlayer[a]===JSON.parse(t.stream.connection.data).clientData&&(w.gameUserOrder.push(t),e=1)})),e||w.gameUserOrder.push(L.publisher)}})),L.session.on("signal:Call my name, idx up",(()=>{u.value+=1,u.value>=3&&(u.value=0,w.passedRound+=1),w.passedTurn+=1,c.value-=1})),L.session.on("signal:callMynameChooseCorrect",(async e=>{_.value=1;let a=parseInt(e.data);a?(v.value=w.userList[a],g.value=w.gameUserOrder[a]):(v.value=w.userList[0],g.value=w.gameUserOrder[0]);for(let t=0;t<3;t++)w.userList[t]===L.myUserName&&(d.value=w.suggestion[t]),w.userList[t]===L.myUserName&&L.myUserName!==v.value&&(_.value=3);L.myUserName===v.value&&(_.value=2),L.myUserName===P.value&&await ha.room.editRoom(L.mySessionId,{game:1}),w.gameResultModal=!0,n.value=1,cd.dispatch("editRoomGame",1)})),L.session.on("signal:callMynamechooseIncorrect",(()=>{})),L.session.on("signal:gameStart",(e=>{const{suggestion:t,maxRound:s,category:o}=JSON.parse(e.data);U.suggestion=t,z.value=t,I.value=t,a("tbs",z.value),console.log("%c maxRound는! ","color: white; background: black",s),U.maxRound=Number(s),n.value=2,U.isGameNow=!0,m().fire({title:"Liar Game 시작!",text:`카테고리: ${o}`,icon:"info"}),cd.dispatch("editRoomGame",2)})),L.session.on("signal:whoIsLiar",(e=>{k.value=e.data,U.liar=e.data,U.liar==L.myUserName?Z.value=!0:Z.value=!1,Z.value?a("tbl",1):a("tbl",2)})),L.session.on("signal:gameOrder",(e=>{U.gameUserList.value=e.data.split(","),$.value=U.gameUserList.value;for(let a=0;a<U.gameUserList.value.length;a++){let e=0;L.subscribers.forEach((function(t){U.gameUserList.value[a]===JSON.parse(t.stream.connection.data).clientData&&(U.gameUserOrder.push(t),D.value.push(JSON.parse(t.stream.connection.data).userNickname),e=1)})),e||(U.gameUserOrder.push(L.publisher),D.value.push(JSON.parse(L.publisher.stream.connection.data).userNickname))}for(let a=0;a<U.gameUserList.value.length;a++)U.gameUserList.value[a]===U.liar&&(N.value=U.gameUserOrder[a])})),L.session.on("signal:gameIdxUp",(()=>{let e=0;U.gameIdx+=1,U.gameIdx>=U.gameUserList.value.length&&(U.gameIdx=0,U.passedRound+=1,e=1),V.value=U.gameIdx,U.passedTurn+=1,e&&U.passedRound>1&&(U.isVoteNow=!0,A.value=U.isVoteNow,U.isVoteNow=!1)})),L.session.on("signal:heIsLiar",(e=>{const a=e.data;let t;"skip"==a?U.skipNum+=1:(U.voteNum+=1,a in U.votingProcess?U.votingProcess[a]+=1:U.votingProcess[a]=1);let s=0;if(U.gameUserList.value.length==U.skipNum+U.voteNum){if(U.skipNum>=U.voteNum&&(U.passedRound<4&&m().fire({title:`${U.passedRound+1}번째 라운드로 넘어갑니다.`,text:"라이어를 찾지 못해 스킵 되었습니다.",icon:"info"}),4===U.passedRound&&m().fire({title:"마지막 라운드로 넘어갑니다.",text:"라이어를 찾지 못해 스킵 되었습니다.",icon:"info"})),U.skipNum<U.voteNum){let e=(0,x.iH)(!1);for(const[a,o]of Object.entries(U.votingProcess))o>s?(s=o,t=a,e.value=!1):o===s&&(e.value=!0);!0===e.value&&(s=0,U.skipNum+=1e3,U.passedRound<4&&m().fire({title:`${U.passedRound+1}번째 라운드로 넘어갑니다.`,text:"라이어를 찾지 못해 스킵 되었습니다.",icon:"info"}),4===U.passedRound&&m().fire({title:"마지막 라운드로 넘어갑니다.",text:"라이어를 찾지 못해 스킵 되었습니다.",icon:"info"}))}let e=!1;U.passedRound==U.maxRound&&U.skipNum>=U.voteNum&&(e=!0),s&&(console.log("가장 많이 지목 당한 사람",t),t==U.liar?L.myUserName==U.liar?(U.liarInputModal=!0,W.value=U.liarInputModal,U.liarInputModal=!1):b.value=!0:(e=!0,m().fire({title:"라이어를 찾지 못했습니다!",text:"잘못된 대상이 지목 되었습니다.",icon:"info"}))),e&&j(!1),A.value=U.isVoteNow,U.votingProcess={},U.skipNum=0,U.voteNum=0}})),L.session.on("signal:liarInput",(e=>{W.value=U.liarInputModal;const[a,t]=[...e.data.split(",")];S.value=t,b.value=!1,j(JSON.parse(a))})),L.session.on("signal:quitgame",(async()=>{L.myUserName===P.value&&await ha.room.editRoom(L.mySessionId,{game:1}),l(),y(),n.value=1,cd.dispatch("editRoomGame",1)})),J(L.mySessionId).then((e=>{L.session.connect(e,{clientData:L.myUserName,userNickname:cd.getters.me.userNickname}).then((()=>{let e=L.OV.initPublisher(void 0,{audioSource:void 0,videoSource:void 0,publishAudio:!0,publishVideo:!0,resolution:"600x320",frameRate:30,insertMode:"APPEND",mirror:!1});L.mainStreamManager=e,L.publisher=e,L.session.publish(e)})).catch((e=>{console.log("There was an error connecting to the session:",e.code,e.message)}))})),window.addEventListener("beforeunload",Y)},Y=()=>{L.myUserName===P.value&&L.session.signal({data:P.value,to:[],type:"get out of this room!"}).then((()=>{console.log("get out of this room!")})).catch((e=>{console.error(e)})),L.session&&L.session.disconnect(),L.session=void 0,L.mainStreamManager=void 0,L.publisher=void 0,L.subscribers=[],L.OV=void 0,window.removeEventListener("beforeunload",Y)},J=e=>F(e).then((e=>Q(e))),F=e=>new Promise(((a,t)=>{We().post(`${T}/openvidu/api/sessions`,JSON.stringify({customSessionId:e}),{auth:{username:"OPENVIDUAPP",password:R}}).then((e=>e.data)).then((e=>a(e.id))).catch((s=>{409===s.response.status?a(e):(console.warn(`No connection to OpenVidu Server. This may be a certificate error at ${T}`),window.confirm(`No connection to OpenVidu Server. This may be a certificate error at ${T}\n\nClick OK to navigate and accept it. If no certificate warning is shown, then check that your OpenVidu Server is up and running at "${T}"`)&&location.assign(`${T}/accept-certificate`),t(s.response))}))})),Q=e=>new Promise(((a,t)=>{We().post(`${T}/openvidu/api/sessions/${e}/connection`,{},{auth:{username:"OPENVIDUAPP",password:R}}).then((e=>e.data)).then((e=>a(e.token))).catch((e=>t(e.response)))}));(0,o.m0)((()=>{t.chatData.chatCount&&X(t.chatData.chatData)}));const X=e=>{L.session.signal({data:JSON.stringify(e),to:[],type:"this is chat"}).then((()=>{console.log("Chat!")})).catch((e=>{console.error(e)}))};return(0,o.Jd)((()=>{Y()})),(0,o.bv)((async()=>{const e=(0,x.iH)("");try{console.log(localStorage.getItem("token"));const a=await We()({url:ha.users.checkToken(),method:"GET",headers:{authorization:"Bearer "+localStorage.getItem("token")}});e.value=a.data.userEmail,L.myUserName=e.value}catch(a){console.log(a)}K()})),(a,t)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",{class:(0,f.C_)(["video-area",{"video-area-on-sidebar":e.isSide}])},[3===n.value?((0,o.wg)(),(0,o.j4)(mi,{key:0,setting:(0,x.SU)(w),session:L.session,gameIdx:u.value,coolDown:c.value},null,8,["setting","session","gameIdx","coolDown"])):(0,o.kq)("",!0),2===n.value?((0,o.wg)(),(0,o.j4)(tr,{key:1,isSide:e.isSide,roomId:e.roomId,setting:(0,x.SU)(U),session:L.session,isLiar:Z.value,tmpNum:V.value,tmpvote:A.value,tmpUserList:$.value,tmpliarInputModal:W.value,tmpGameResultModal:B.value,tmpGameResult:G.value,liargameNicknameList:D.value},null,8,["isSide","roomId","setting","session","isLiar","tmpNum","tmpvote","tmpUserList","tmpliarInputModal","tmpGameResultModal","tmpGameResult","liargameNicknameList"])):(0,o.kq)("",!0),1===n.value?((0,o.wg)(),(0,o.j4)(pr,{key:2,users:O.value,isSide:e.isSide,publisher:L.publisher,subscribers:L.subscribers},null,8,["users","isSide","publisher","subscribers"])):(0,o.kq)("",!0)],2),C.value?((0,o.wg)(),(0,o.j4)(Cr,{key:0,onClose:t[0]||(t[0]=e=>C.value=!1),onLiarGameStart:H})):(0,o.kq)("",!0),b.value?((0,o.wg)(),(0,o.j4)(Rr,{key:1,liar:k.value,liarStream:N.value,onClose:t[1]||(t[1]=e=>b.value=!1)},null,8,["liar","liarStream"])):(0,o.kq)("",!0),B.value?((0,o.wg)(),(0,o.j4)(il,{key:2,whoWin:G.value,liar:k.value,gameSet:(0,x.SU)(U),suggestion:I.value,liarInput:S.value,liarStream:N.value,onClose:t[2]||(t[2]=e=>B.value=!1)},null,8,["whoWin","liar","gameSet","suggestion","liarInput","liarStream"])):(0,o.kq)("",!0),(0,x.SU)(w).gameResultModal?((0,o.wg)(),(0,o.j4)(Ol,{key:3,onClose:t[3]||(t[3]=e=>(0,x.SU)(w).gameResultModal=!1),winner:v.value,isWin:_.value,suggestion:d.value,winnerVideo:g.value,myEmail:L.myUserName},null,8,["winner","isWin","suggestion","winnerVideo","myEmail"])):(0,o.kq)("",!0)],64))}};const Rl=(0,l.Z)(Tl,[["__scopeId","data-v-29107cf1"]]);var Ll=Rl;const Pl=(0,o._)("div",{class:"title"},"게임",-1),jl={class:"game-list-area"},Vl=(0,o._)("div",{class:"game-title game-text"},"라이어게임",-1),Al=(0,o._)("div",{class:"game-text"},[(0,o.Uk)(" 당신은 제시어에 대해 사람들에게 설명해야 합니다."),(0,o._)("br"),(0,o.Uk)(" 하지만 걱정하지 마세요. "),(0,o._)("br"),(0,o.Uk)(" 모두에게 제시어가 공유되니까요."),(0,o._)("br"),(0,o.Uk)(" 한 사람, 라이어를 제외하면요!"),(0,o._)("br"),(0,o.Uk)(" 누가 거짓말을 하고 있는 라이어일까요?"),(0,o._)("br")],-1),Wl=[Vl,Al],$l=(0,o._)("div",{class:"game-title game-text"},"콜 마이 네임",-1),Bl=(0,o._)("div",{class:"game-text"},[(0,o.Uk)(" 사람들은 다른 사람의 이름을 볼 수 있지만,"),(0,o._)("br"),(0,o.Uk)(" 자신의 이름은 알 수 없습니다."),(0,o._)("br"),(0,o.Uk)(" 다른 사람들과의 질답을 통해"),(0,o._)("br"),(0,o.Uk)(" 다른 사람들보다 빠르게 "),(0,o._)("br"),(0,o.Uk)(" 자신이 누구인지 알아맞춰보세요!"),(0,o._)("br")],-1),Gl=[$l,Bl];function Zl(e,a){return(0,o.wg)(),(0,o.iD)(o.HY,null,[Pl,(0,o._)("div",jl,[(0,o._)("div",{class:"game-item",onClick:a[0]||(a[0]=a=>e.$emit("click-liargame"))},Wl),(0,o._)("div",{class:"game-item",onClick:a[1]||(a[1]=a=>e.$emit("click-callmyname"))},Gl)])],64)}const zl={},Kl=(0,l.Z)(zl,[["render",Zl]]);var Yl=Kl;const Jl=e=>((0,o.dD)("data-v-c15aed46"),e=e(),(0,o.Cn)(),e),Fl=Jl((()=>(0,o._)("div",{class:"title"},"채팅",-1))),Ql={class:"chat-list-area"},Xl={class:"messages-area"},eu={key:0,class:"message-user-info"},au={class:"message-send-user"},tu={class:"message-send-time"},su={class:"message-send-content"},ou={class:"typping-area"},nu=["onKeydown"],iu=Jl((()=>(0,o._)("i",{class:"fa-solid fa-paper-plane fa-lg"},null,-1))),ru=[iu];var lu={__name:"ChattingArea",emits:["send-message-from-me"],setup(e,{emit:a}){const t=(0,i.oR)(),n=(0,x.iH)([]),r=(0,x.iH)(""),l=function(){a("send-message-from-me",r.value),r.value=""};return(0,o.m0)((()=>{t.state.rooms.chattings.length&&(console.log(t.state.rooms.chattings.length),n.value=t.getters.getChattings)})),(0,o.ic)((()=>{const e=document.querySelector(".messages-area");e.scrollTo(0,e.scrollHeight),console.log(e.scrollHeight)})),(e,a)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[Fl,(0,o._)("div",Ql,[(0,o._)("div",Xl,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.value,((e,a)=>((0,o.wg)(),(0,o.iD)("div",{key:a,class:"message"},[e.isDifferentNameAndTime?((0,o.wg)(),(0,o.iD)("div",eu,[(0,o._)("div",au,(0,f.zw)(e.userNickname),1),(0,o._)("div",tu,(0,f.zw)(e.sendTime),1)])):(0,o.kq)("",!0),(0,o._)("div",su,(0,f.zw)(e.content),1)])))),128))]),(0,o._)("div",ou,[(0,o._)("div",null,[(0,o.wy)((0,o._)("textarea",{id:"text-area",onKeydown:(0,s.D2)((0,s.iM)(l,["prevent"]),["enter"]),class:"text-area",autocomplete:"off",placeholder:"사람들에게 메세지 보내기","onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e)},null,40,nu),[[s.nr,r.value]]),(0,o._)("div",{onClick:l},ru)])])])],64))}};const uu=(0,l.Z)(lu,[["__scopeId","data-v-c15aed46"]]);var cu=uu;const du=e=>((0,o.dD)("data-v-4f92450b"),e=e(),(0,o.Cn)(),e),mu=du((()=>(0,o._)("div",{class:"title"},"참가자",-1))),pu={id:"participant-list-area",class:"participant-list-area"},vu={class:"participant-item"},gu=du((()=>(0,o._)("div",null,"호스트",-1)));var fu={__name:"ParticipantArea",props:{roomUserInfo:Array,roomInfo:Object},setup(e){const a=e;return console.log(a.roomInfo),(a,t)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[mu,(0,o._)("div",pu,[(0,o._)("div",vu,[(0,o._)("div",null,(0,f.zw)(e.roomInfo.hostNickname),1),gu]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.roomUserInfo,((e,a)=>((0,o.wg)(),(0,o.iD)("div",{class:"participant-item",key:a},[(0,o._)("div",null,(0,f.zw)(e.userNickname),1)])))),128))])],64))}};const _u=(0,l.Z)(fu,[["__scopeId","data-v-4f92450b"]]);var wu=_u,yu={__name:"SideArea",props:{isGameMode:Number},emits:["chatFromSide"],setup(e,{emit:a}){const t={},s=function(e){console.log("this is isOkay",e),t.message=e,t.nickname=n.getters.me.userNickname,a("send-message",t)},n=(0,i.oR)(),r=()=>{n.dispatch("openSidebar","0")},l=(0,x.iH)("0"),u=(0,x.iH)([]),c=(0,x.iH)({});return(0,o.m0)((()=>{c.value=n.getters.getRoomInfo})),(0,o.m0)((async()=>{const e=await ha.room.roomInfo(c.value.roomId);l.value=n.getters.get_sidebar,u.value=e.data.joinUsers})),(a,t)=>"0"!==l.value?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,f.C_)(["sideArea",{"sideArea-on-game":e.isGameMode}])},[(0,o._)("button",{class:"exit"},[(0,o._)("i",{onClick:r,class:"fa-solid fa-x fa-lg exit-label"})]),"1"===l.value?((0,o.wg)(),(0,o.j4)(wu,{key:0,roomUserInfo:u.value,roomInfo:c.value},null,8,["roomUserInfo","roomInfo"])):(0,o.kq)("",!0),"2"===l.value?((0,o.wg)(),(0,o.j4)(cu,{key:1,roomUserInfo:u.value,roomInfo:c.value,onSendMessageFromMe:s},null,8,["roomUserInfo","roomInfo"])):(0,o.kq)("",!0),"3"===l.value?((0,o.wg)(),(0,o.j4)(Yl,{key:2,onClickLiargame:t[0]||(t[0]=e=>a.$emit("click-liargame")),onClickCallmyname:t[1]||(t[1]=e=>a.$emit("click-callmyname"))})):(0,o.kq)("",!0)],2)):(0,o.kq)("",!0)}};const hu=(0,l.Z)(yu,[["__scopeId","data-v-09b2ced6"]]);var bu=hu;const ku=e=>((0,o.dD)("data-v-3b0105c3"),e=e(),(0,o.Cn)(),e),xu={class:"bottombar"},Cu=ku((()=>(0,o._)("div",{class:"triColumn"},null,-1))),Su={class:"triColumn"},Iu={key:0,class:"fa-solid fa-microphone-lines fa-2x"},Nu={key:1,class:"icon fa-solid fa-microphone-lines-slash fa-2x slash"},Du={key:0,class:"fa-solid fa-video fa-2x"},Uu={key:1,class:"fa-solid fa-video-slash fa-2x slash"},Mu={key:0,class:"middleIconDiv"},Eu=ku((()=>(0,o._)("i",{class:"fa-solid fa-gear fa-2x"},null,-1))),Hu=[Eu],Ou=ku((()=>(0,o._)("label",{class:"btn exit-btn",for:"exitInput"},null,-1))),qu={class:"triColumn"},Tu=ku((()=>(0,o._)("i",{id:"1",class:"fa-solid fa-users fa-2x"},null,-1))),Ru=[Tu],Lu=ku((()=>(0,o._)("i",{id:"2",class:"fa-solid fa-comments fa-2x"},null,-1))),Pu=[Lu],ju={key:0,class:"rightIconDiv"},Vu=ku((()=>(0,o._)("i",{id:"3",class:"fa-solid fa-gamepad fa-2x"},null,-1))),Au=[Vu],Wu={class:"rightIconBundle"},$u=ku((()=>(0,o._)("label",{class:"btn sideAreaBundleOpen",for:"sideAreaBundleInput"},[(0,o._)("i",{class:"fa-solid fa-angles-up fa-2x"})],-1))),Bu=ku((()=>(0,o._)("i",{id:"3",class:"fa-solid fa-gamepad fa-2x"},null,-1))),Gu=[Bu],Zu=ku((()=>(0,o._)("i",{id:"2",class:"fa-solid fa-comments fa-2x"},null,-1))),zu=[Zu],Ku=ku((()=>(0,o._)("i",{id:"1",class:"fa-solid fa-users fa-2x"},null,-1))),Yu=[Ku];var Ju={__name:"BottomBar",setup(e){const a=(0,p.tv)(),t=(0,x.iH)(!0),n=(0,x.iH)(!0),i=function(){t.value=!t.value,!0===t.value?m().fire({position:"top",title:"마이크가 켜졌습니다.",color:"#695eef",backdrop:!1,showConfirmButton:!1,timer:700,width:"25rem"}):m().fire({position:"top",title:"마이크가 꺼졌습니다.",color:"rgba(246, 30, 30, 0.75)",backdrop:!1,showConfirmButton:!1,timer:700,width:"25rem"})},r=function(){n.value=!n.value,!0===n.value?m().fire({position:"top",title:"화면이 켜졌습니다.",color:"#695eef",backdrop:!1,showConfirmButton:!1,timer:700,width:"25rem"}):m().fire({position:"top",title:"화면이 꺼졌습니다.",color:"rgba(246, 30, 30, 0.75)",backdrop:!1,showConfirmButton:!1,timer:700,width:"25rem"})},l=(0,x.iH)(!1),u=async function(){let e=await m().fire({title:"방을 나가시겠습니까?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Room 나가기",cancelButtonText:"취소"}).then((e=>!!e.isConfirmed));return e},c=async function(){const e=await m().fire({title:"당신은 호스트라서 나갈 수 없어요",text:"하지만 Room 삭제는 가능합니다",icon:"question",showCancelButton:!0,confirmButtonColor:"red",cancelButtonColor:"#d33",confirmButtonText:"Room 삭제하기",cancelButtonText:"취소"}).then((e=>!!e.isConfirmed));return e},d=async function(){const e=cd.getters.getRoomInfo.hostEmail,t=cd.getters.me.userEmail;let s;e!==t?s=await u():e===t&&(s=await c()),!0===s&&a.push({name:"mainpage"})},v=(0,x.iH)(!1),g=function(e){cd.dispatch("openSidebar",e.target.id)},f=(0,x.iH)(!0);return(0,o.m0)((()=>{cd.getters.getRoomInfo.hostEmail===cd.getters.me.userEmail?f.value=!0:f.value=!1})),(e,a)=>((0,o.wg)(),(0,o.iD)("div",xu,[Cu,(0,o._)("div",Su,[(0,o._)("div",{class:"middleIconDiv",onClick:a[0]||(a[0]=a=>e.$emit("audio-toggle"))},[(0,o._)("label",{onClick:i,class:"btn"},[t.value?((0,o.wg)(),(0,o.iD)("i",Iu)):(0,o.kq)("",!0),t.value?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("i",Nu))])]),(0,o._)("div",{class:"middleIconDiv",onClick:a[1]||(a[1]=a=>e.$emit("video-toggle"))},[(0,o._)("label",{onClick:r,class:"btn"},[n.value?((0,o.wg)(),(0,o.iD)("i",Du)):(0,o.kq)("",!0),n.value?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("i",Uu))])]),f.value?((0,o.wg)(),(0,o.iD)("div",Mu,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>l.value=e),class:"input",id:"setttingInput",type:"checkbox"},null,512),[[s.e8,l.value]]),(0,o._)("label",{onClick:a[3]||(a[3]=a=>e.$emit("room-edit")),class:"btn",for:"setttingInput"},Hu)])):(0,o.kq)("",!0),(0,o._)("div",{class:"middleIconDiv"},[(0,o._)("input",{onClick:d,class:"input exitInput",id:"exitInput",type:"checkbox"}),Ou])]),(0,o._)("div",qu,[(0,o._)("div",{class:"rightIconDiv"},[(0,o._)("label",{id:"1",onClick:g,class:"btn"},Ru)]),(0,o._)("div",{class:"rightIconDiv"},[(0,o._)("label",{id:"2",onClick:g,class:"btn"},Pu)]),f.value?((0,o.wg)(),(0,o.iD)("div",ju,[(0,o._)("label",{id:"3",onClick:g,class:"btn"},Au)])):(0,o.kq)("",!0),(0,o._)("div",Wu,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>v.value=e),class:"sideAreaBundleInput",id:"sideAreaBundleInput",type:"checkbox"},null,512),[[s.e8,v.value]]),$u,f.value?((0,o.wg)(),(0,o.iD)("label",{key:0,id:"3",onClick:g,class:"sideAreaBundleItem"},Gu)):(0,o.kq)("",!0),(0,o._)("label",{id:"2",onClick:g,class:"sideAreaBundleItem"},zu),(0,o._)("label",{id:"1",onClick:g,class:"sideAreaBundleItem"},Yu)])])]))}};const Fu=(0,l.Z)(Ju,[["__scopeId","data-v-3b0105c3"]]);var Qu=Fu;const Xu={class:"modal-window"},ec={class:"top"},ac={class:"content"};function tc(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)("div",{class:"modal modal-overlay",onMousedown:a[1]||(a[1]=(0,s.iM)((a=>e.$emit("close")),["self"]))},[(0,o._)("div",Xu,[(0,o._)("div",ec,[(0,o._)("button",{onClick:a[0]||(a[0]=a=>e.$emit("close"))},"X")]),(0,o._)("div",ac,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])])],32)}var sc={name:"EditModal"};const oc=(0,l.Z)(sc,[["render",tc],["__scopeId","data-v-a18abb38"]]);var nc=oc;const ic={class:"user-input"},rc=(0,o._)("span",null,"방 제목",-1),lc={class:"user-input"},uc=(0,o._)("span",null,"호스트",-1),cc=(0,o._)("option",{disabled:"",value:""},"호스트를 위임할 사용자를 정해주세요",-1),dc=["value"],mc=["value"],pc={class:"user-input"},vc=(0,o._)("span",null,"방 설명",-1),gc={class:"private-check"},fc=(0,o._)("span",null,"비공개",-1),_c={class:"user-input"},wc=["disabled"],yc={class:"edit-error-msg"},hc={class:"btns-box"};function bc(e,a,t,n,i,r){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",ic,[rc,(0,o.wy)((0,o._)("input",{type:"text",name:"title","onUpdate:modelValue":a[0]||(a[0]=e=>n.roomInfo.title=e)},null,512),[[s.nr,n.roomInfo.title]])]),(0,o._)("div",lc,[uc,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>n.roomInfo.hostId=e)},[cc,(0,o._)("option",{selected:"",value:n.roomInfo.hostId},(0,f.zw)(n.roomInfo.hostNickname)+"(호스트) ",9,dc),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.userInfo,((e,a)=>((0,o.wg)(),(0,o.iD)("option",{key:a,value:e.userId},(0,f.zw)(e.userNickname),9,mc)))),128))],512),[[s.bM,n.roomInfo.hostId]])]),(0,o._)("div",pc,[vc,(0,o.wy)((0,o._)("textarea",{type:"text",rows:"5",name:"descript","onUpdate:modelValue":a[2]||(a[2]=e=>n.roomInfo.descript=e)},null,512),[[s.nr,n.roomInfo.descript]])]),(0,o._)("div",gc,[fc,(0,o.wy)((0,o._)("input",{type:"checkbox",name:"is_private","onUpdate:modelValue":a[3]||(a[3]=e=>n.isPrivate=e)},null,512),[[s.e8,n.isPrivate]])]),(0,o._)("div",_c,[(0,o.wy)((0,o._)("input",{type:"password",name:"roomPassword",placeholder:"4 ~ 12자리의 비밀번호를 입력해 주세요",disabled:0==n.isPrivate,"onUpdate:modelValue":a[4]||(a[4]=e=>n.inputPassword=e)},null,8,wc),[[s.nr,n.inputPassword]])]),(0,o._)("span",yc,(0,f.zw)(n.editErrorMsg),1),(0,o._)("div",hc,[(0,o._)("button",{class:"overlay__btn room_edit_btn",onClick:a[5]||(a[5]=(...e)=>n.editRoom&&n.editRoom(...e))},"수정")])],64)}var kc={name:"EditModalContent",emits:["close"],props:[],setup(e,a){const t=(0,x.iH)(""),s=(0,i.oR)(),n=(0,p.yj)(),r=n.params.roomId,l=(0,x.iH)(""),u=(0,x.iH)(!0),c=(0,x.iH)({}),d=(0,x.iH)({}),v=(0,x.iH)(!0);s.dispatch("getRoomInfo",r),(0,o.m0)((()=>{c.value=s.getters.getRoomInfo,d.value=s.getters.getUserInfo,0==c.value.isPrivate&&(v.value=!1,u.value=!1)}));const g=async function(){try{const e=(0,x.qj)({title:c.value.title,descript:c.value.descript,hostId:c.value.hostId});let o=0;if(0==u.value&&(l.value=""),v.value?u.value?0==l.value.length?console.log("비밀번호 변경 없음"):4<=l.value.length&&l.value.length<=12?e.roomPassword=l.value:(t.value="4 ~ 12자리의 비밀번호를 입력해주세요",o=!0):(l.value="",e.roomPassword=""):u.value&&(4<=l.value.length&&l.value.length<=12?e.roomPassword=l.value:(t.value="4 ~ 12자리의 비밀번호를 입력해주세요",o=!0)),""==c.value.title&&(t.value="방 이름을 정해 주세요",o=!0),o)return c.value.isPrivate=Boolean(c.value.isPrivate),void(o=!1);const n=await ha.room.editRoom(r,e);200===n.data.statusCode&&(m().fire({icon:"success",text:"방 정보 수정이 완료되었습니다"}),s.dispatch("getRoomInfo",r),a.emit("close"))}catch(e){console.log(e)}};return{editErrorMsg:t,originPrivate:v,inputPassword:l,roomInfo:c,userInfo:d,editRoom:g,isPrivate:u}}};const xc=(0,l.Z)(kc,[["render",bc]]);var Cc=xc;const Sc=e=>((0,o.dD)("data-v-26c30fc4"),e=e(),(0,o.Cn)(),e),Ic={class:"top-bar"},Nc=Sc((()=>(0,o._)("span",null,"게임설명",-1))),Dc=[Nc],Uc=Sc((()=>(0,o._)("span",null,"게임설명",-1))),Mc=[Uc],Ec={key:0},Hc={key:0},Oc=Sc((()=>(0,o._)("span",{class:"notify-span"},"당신은 Liar입니다",-1))),qc=[Oc],Tc={key:1},Rc={class:"notify-span"},Lc={key:1},Pc=Sc((()=>(0,o._)("div",null,[(0,o._)("i",{class:"fa-solid fa-person-running fa-xl"})],-1))),jc=Sc((()=>(0,o._)("div",null,[(0,o._)("span",null,"게임 종료")],-1))),Vc=[Pc,jc];var Ac={__name:"TopBar",props:{isHost:Boolean,isGameMode:Number,suggestion:String,isLiar:Boolean},setup(e){const a=e,t=(0,x.iH)(cd.getters.getLiarGameSet),s=(0,x.iH)(JSON.parse(a.isLiar));(0,o.m0)((()=>{console.log("탑바"),t.value=cd.getters.getLiarGameSet,console.log("%c gameSet 정보 불러옴 (from TopBar.vue) ","color: white;background: pink",a.suggestion,a.isLiar)}));const n=()=>{m().fire({imageHeight:300,imageAlt:"game image",title:"게임 설명",text:"당신은 라이어인가요?",showCancelButton:!0,showDenyButton:!0,denyButtonText:"라이어입니다",confirmButtonText:"라이어가 아닙니다",cancelButtonText:"닫기"}).then((e=>{!0===e.isConfirmed?m().fire({title:"당신은 라이어가 아닙니다",html:"여러분은 주어진 제시어에 대해 사람들에게 설명해야 합니다.<br>당신의 차례가 오면 화면 상단 중앙에 표시된<br>제시어에 대해 설명하고 버튼으로 턴을 넘기세요.<br>하지만 너무 자세하게 설명하면<br>라이어에게 제시어를 들켜 패배하게 되니 주의해야겠죠?<br><br>다른 사람의 설명을 듣고<br>제시어에 대해 모르는 것 같은 사람을 찾아내<br>최종 투표에서 라이어를 찾아내세요!",confirmButtonText:"확인",width:600}):!0===e.isDenied&&m().fire({title:"당신은 라이어입니다",html:"다른 사람들이 말하는 설명을 듣고, 제시어가 무엇인지 추측해 보세요.<br>당신 차례가 오면 사람들이 당신이 라이어란 사실을 눈치채지 못하게<br>숨겨진 제시어에 대해 그럴듯하게 설명한 후 버튼으로 턴을 넘기세요.<br>최종 투표를 무사히 넘긴다면 당신의 승리입니다!",showCancelButton:!0,confirmButtonText:"라이어인걸 들켰어요",confirmButtonColor:"#dc3741",cancelButtonText:"닫기",width:600}).then((e=>{!0===e.isConfirmed&&m().fire({title:"라이어인걸 들켰다면",html:"걱정하지 마세요!<br>당신에게는 마지막 기회가 남아 있습니다!<br>다른 사람들의 설명을 들으면서<br>지금까지 추측했던 제시어를 입력해 주세요.<br>만약 당신이 추측한 단어가 실제 제시어라면<br>당신의 승리입니다!",confirmButtonText:"확인",confirmButtonColor:"#dc3741",width:600})}))}))},i=()=>{m().fire({title:"당신의 정체를 맞춰보세요!",html:"다른 사람들은 당신이 누구인지 알지만<br>당신은 당신의 정체를 모릅니다.<br><br>억울할 필요는 없죠.<br> 당신도 다른 사람들의 정체를 알고 있으니까요.<br><br> 다른 사람들이 자신이 누구인지 맞추기 전에<br>당신이 누구인지 알아맞혀보세요!",confirmButtonText:"확인"})};return(a,t)=>((0,o.wg)(),(0,o.iD)("div",Ic,[(0,o._)("div",null,[2===e.isGameMode?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"manual-button",onClick:n},Dc)):(0,o.kq)("",!0),3===e.isGameMode?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"manual-button",onClick:i},Mc)):(0,o.kq)("",!0)]),2===e.isGameMode?((0,o.wg)(),(0,o.iD)("div",Ec,[1===s.value?((0,o.wg)(),(0,o.iD)("div",Hc,qc)):(0,o.kq)("",!0),2===s.value?((0,o.wg)(),(0,o.iD)("div",Tc,[(0,o._)("span",Rc,"제시어: "+(0,f.zw)(e.suggestion),1)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),3===e.isGameMode?((0,o.wg)(),(0,o.iD)("div",Lc)):(0,o.kq)("",!0),(0,o._)("div",null,[e.isHost?((0,o.wg)(),(0,o.iD)("button",{key:0,class:"end-button",onClick:t[0]||(t[0]=e=>a.$emit("quitGame"))},Vc)):(0,o.kq)("",!0)])]))}};const Wc=(0,l.Z)(Ac,[["__scopeId","data-v-26c30fc4"]]);var $c=Wc;const Bc={class:"main-area"};var Gc={__name:"RoomPage",setup(e){const a=(0,x.iH)(""),t=(0,x.iH)(!1),s=function(e){a.value=e},n=function(e){console.log("데이타는 왜 안바뀌는거 같니"),t.value=e},r=(0,x.iH)(1),l=function(){r.value=2},u=function(){r.value=1},c=(0,x.iH)(1),d=function(){c.value=2},v=function(){c.value=1},g=(0,x.iH)(1),f=function(){g.value=2},_=function(){g.value=1},w=(0,x.iH)(!0),y=(0,x.iH)(!0),h=(0,p.yj)(),b=h.params.roomId,k=(0,i.oR)(),C=(0,x.iH)({chatData:{},chatCount:0}),S=function(e){C.value.chatData=e,C.value.chatCount++},I=(0,x.iH)(1),N=(0,x.iH)(!1),D=(0,x.iH)(0);(0,o.m0)((()=>{k.getters.me.userEmail===k.getters.getRoomInfo.hostEmail?N.value=!0:N.value=!1,D.value=parseInt(k.getters.get_sidebar),I.value=k.getters.getRoomInfo.game}));const U=(0,x.iH)(!1),M=function(){U.value=!1},E=async function(){const e=k.getters.me.userEmail,a=k.getters.getRoomInfo.hostEmail,t=a===e,s={roomId:b};return t?(await ha.room.killRoom(s),void await setTimeout((()=>{m().fire({title:"당신은 Host 군요",text:"방을 삭제했습니다."})}),1e3)):(await ha.room.leaveRoom(s),void await setTimeout((()=>{m().fire({title:"당신은 User 군요",text:"방에서 나갔습니다."})}),1e3))};return(0,o.bv)((async()=>{await k.dispatch("getRoomInfo",b),await k.dispatch("checkToken"),await ha.room.enterRoom({roomId:b})})),(0,o.Jd)((async()=>{void 0!==k.getters.me.userEmail&&void 0!==k.getters.getRoomInfo.hostEmail&&await E(),k.dispatch("initChatting")})),(e,i)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[1!==I.value?((0,o.wg)(),(0,o.j4)($c,{key:0,isHost:N.value,isGameMode:I.value,suggestion:a.value,isLiar:t.value,onQuitGame:l},null,8,["isHost","isGameMode","suggestion","isLiar"])):(0,o.kq)("",!0),(0,o._)("div",Bc,[(0,o.Wm)(Ll,{isSide:Boolean(D.value),roomId:(0,x.SU)(b),isVideoOpen:w.value,isAudeoOpen:y.value,chatData:C.value,isQuit:r.value,isLiarGameStart:c.value,isCallMyStart:g.value,onTbs:s,onTbl:n,onHeygettopbar:u,onReturnLiar:v,onReturnCallmyname:_},null,8,["isSide","roomId","isVideoOpen","isAudeoOpen","chatData","isQuit","isLiarGameStart","isCallMyStart"]),0!==D.value?((0,o.wg)(),(0,o.j4)(bu,{key:0,class:"self-center",onSendMessage:S,isGameMode:I.value,onClickLiargame:d,onClickCallmyname:f},null,8,["isGameMode"])):(0,o.kq)("",!0)]),(0,o.Wm)(Qu,{onRoomEdit:i[0]||(i[0]=e=>U.value=!U.value),onVideoToggle:i[1]||(i[1]=e=>w.value=!w.value),onAudioToggle:i[2]||(i[2]=e=>y.value=!y.value)}),U.value?((0,o.wg)(),(0,o.j4)(nc,{key:1,onClose:M},{default:(0,o.w5)((()=>[(0,o.Wm)(Cc,{onClose:M})])),_:1})):(0,o.kq)("",!0)],64))}};const Zc=(0,l.Z)(Gc,[["__scopeId","data-v-164e88ae"]]);var zc=Zc;const Kc=e=>((0,o.dD)("data-v-5ddf504c"),e=e(),(0,o.Cn)(),e),Yc=Kc((()=>(0,o._)("h1",null,"Webcam Test",-1))),Jc={class:"buttons"},Fc=Kc((()=>(0,o._)("video",{id:"webcam-id",autoplay:"true"},null,-1)));var Qc={__name:"LobbyPage",setup(e){const a=document.getElementById("webcam-id"),t=function(){navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((e=>{a.srcObject=e,console.log(e)})).catch((e=>{console.log("카메라 정보 없음",e)}))},s=()=>{const e=a.srcObject,t=e.getTracks();for(let a=0;a<t.length;a++){const e=t[a];e.stop()}a.srcObject=null};return(e,a)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[Yc,(0,o._)("div",Jc,[(0,o._)("button",{onClick:a[0]||(a[0]=e=>t())},"OPEN"),(0,o._)("button",{onClick:a[1]||(a[1]=e=>s())},"CLOSE")]),Fc],64))}};const Xc=(0,l.Z)(Qc,[["__scopeId","data-v-5ddf504c"]]);var ed=Xc,ad={__name:"KakaoLoginPage",setup(e){const a=(0,p.yj)(),t=(0,p.tv)(),s=async function(){try{const e=a.query.code,s={grant_type:"authorization_code",client_id:"9f41e650ba635f9ead57e2ffeea63af7",code:e,redirect_uri:ha.users.kakaoLogin(),client_secret:"n8uSkNtKfaAA1NBOAsWqZUv9oYSsq69f"};let o=await We()({url:"https://kauth.kakao.com/oauth/token",method:"POST",params:s}),n=o.data.access_token;o=await We()({url:ha.users.kakaoSendToken()+`?accessToken=${n}`,method:"GET"}),n=o.data.accessToken,200===o.status&&(cd.dispatch("saveToken",n),cd.dispatch("fetchMe"),t.push({name:"mainpage"}))}catch(e){t.push({name:"errorpage",params:{errorname:500}})}};return s(),(e,a)=>((0,o.wg)(),(0,o.iD)("div"))}};const td=ad;var sd=td;const od=[{path:"/",name:"startpage",component:dt},{path:"/lounge",name:"mainpage",component:rn},{path:"/room/:roomId",name:"roompage",component:zc},{path:"/room/lobby",name:"lobbypage",component:ed},{path:"/error/:errorname",name:"errorpage",component:jn},{path:"/login/kakao",name:"kakaologin",component:sd},{path:"/:pathMatch(.*)*",redirect:"/error/404"}],nd=(0,p.p7)({history:(0,p.PO)("/"),routes:od});nd.beforeEach(((e,a,t)=>{const{isLoggedin:s}=cd.getters,o=["roompage","mainpage","lobbypage"];s?"startpage"===e.name||"kakaologin"===e.name?t({name:"mainpage"}):t():s||(o.includes(e.name)?(m().fire({icon:"warning",text:"로그인이 필요한 페이지입니다!"}),t({name:"startpage"})):t())}));var id=nd,rd={state:{token:localStorage.getItem("token")||"",me:{}},getters:{isLoggedin:e=>!!e.token,authHeader:e=>({Authorization:`Bearer ${e.token}`}),me:e=>e.me},mutations:{SET_TOKEN:(e,a)=>e.token=a,SET_ME:(e,a)=>e.me=a,REMOVE_TOKEN:()=>{localStorage.setItem("token","")},REMOVE_ME:e=>{e.me={}}},actions:{saveToken:(e,a)=>{e.commit("SET_TOKEN",a),localStorage.setItem("token",a)},removeToken:e=>{e.commit("SET_TOKEN","")},logout:({commit:e})=>{e("SET_TOKEN",""),e("REMOVE_TOKEN"),e("REMOVE_ME"),id.push({name:"startpage"})},fetchMe:({getters:e,commit:a,dispatch:t})=>{if(e.isLoggedin){const s=async function(){try{const t=await We()({url:ha.users.checkToken(),method:"GET",headers:e.authHeader});a("SET_ME",t.data)}catch(s){console.log(s),t("removeToken")}};s()}}}},ld={state:{roomInfo:{},sidebar:"0",chattings:[]},getters:{get_sidebar:e=>e.sidebar,getRoomInfo:e=>e.roomInfo,getUserInfo:e=>e.roomInfo.joinUsers,getChattings:e=>e.chattings,getNickname:e=>a=>{const t=e.roomInfo.joinUsers,s={};t.forEach((e=>{s[e.userEmail]=e.userNickname}));const o=void 0!==s[a]?s[a]:e.roomInfo.hostNickname;return o}},mutations:{SET_SIDEBAR:(e,a)=>{e.sidebar===a?e.sidebar="0":e.sidebar=a},SET_ROOM_INFO:(e,a)=>{e.roomInfo=a},ADD_MESSAGE:(e,a)=>{e.chattings.push(a)},INIT_CHATTING:e=>{e.chattings=[]},EDIT_GAMEMODE:(e,a)=>{e.roomInfo.game=a}},actions:{editRoomGame:({commit:e},a)=>{e("EDIT_GAMEMODE",a)},openSidebar:({commit:e},a)=>{e("SET_SIDEBAR",a)},setRoomInfo:({commit:e},a)=>{e("SET_ROOM_INFO",a)},getRoomInfo:async function({dispatch:e},a){const{data:t}=await ha.room.roomInfo(a),s=t.statusCode;200===s?e("setRoomInfo",t):404===s?id.push({name:"errorpage",params:{errorname:"404"}}):id.push({name:"errorpage",params:{errorname:"500"}})},addMessage:function({commit:e},a){e("ADD_MESSAGE",a)},forceExit:function(e,a){id.push({name:"mainpage"});let t="방이 폭파되었습니다!";a||(t=`${a}님은 방에서 강퇴당하셨습니다!`),m().fire({title:t,text:"라운지로 이동했습니다",icon:"warning"})},initChatting:function({commit:e}){console.log("여기까진 들어오나?"),e("INIT_CHATTING")}}},ud={state:{gameSet:{gameIdx:0,isGameNow:0,suggestion:"",maxRound:0,liar:"",passedTurn:0,passedRound:0,gameUserList:[],gameUserOrder:[],liarInput:"",liarInputModal:!1,isVoteNow:!1,gameResult:!1,gameResultModal:!1,votingProcess:{},skipNum:0,voteNum:0}},getters:{getLiarGameSet:e=>e.gameSet},mutations:{setGameSet:(e,a)=>e.gameSet=a},actions:{setGameSet:function({commit:e},a){e("setGameSet",a)}}},cd=(0,i.MT)({modules:{users:rd,rooms:ld,liargame:ud}}),dd=t(6167),md={config:{},plugins:{}},pd=t(9315);(0,s.ri)(c).use(dd.Z,md).use(id).use(cd).use(pd.Z,We()).mount("#app")}},a={};function t(s){var o=a[s];if(void 0!==o)return o.exports;var n=a[s]={id:s,loaded:!1,exports:{}};return e[s].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}t.m=e,function(){t.amdO={}}(),function(){var e=[];t.O=function(a,s,o,n){if(!s){var i=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],n=e[c][2];for(var r=!0,l=0;l<s.length;l++)(!1&n||i>=n)&&Object.keys(t.O).every((function(e){return t.O[e](s[l])}))?s.splice(l--,1):(r=!1,n<i&&(i=n));if(r){e.splice(c--,1);var u=o();void 0!==u&&(a=u)}}return a}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[s,o,n]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,s){var o,n,i=s[0],r=s[1],l=s[2],u=0;if(i.some((function(a){return 0!==e[a]}))){for(o in r)t.o(r,o)&&(t.m[o]=r[o]);if(l)var c=l(t)}for(a&&a(s);u<i.length;u++)n=i[u],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(c)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=t.O(void 0,[998],(function(){return t(1404)}));s=t.O(s)})();
//# sourceMappingURL=app.b8ccea19.js.map